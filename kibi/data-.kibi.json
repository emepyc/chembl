{"_index":".kibi","_type":"visualization","_id":"Journal-over-Year","_score":1,"_source":{"visState":"{\"title\":\"Journal over Year\",\"type\":\"area\",\"params\":{\"shareYAxis\":true,\"addTooltip\":true,\"addLegend\":true,\"smoothLines\":true,\"scale\":\"linear\",\"interpolate\":\"linear\",\"mode\":\"stacked\",\"times\":[],\"addTimeMarker\":false,\"defaultYExtents\":false,\"setYExtents\":false,\"yAxis\":{}},\"aggs\":[{\"id\":\"1\",\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"type\":\"date_histogram\",\"schema\":\"segment\",\"params\":{\"field\":\"year\",\"interval\":\"y\",\"customInterval\":\"2h\",\"min_doc_count\":1,\"extended_bounds\":{}}},{\"id\":\"3\",\"type\":\"terms\",\"schema\":\"group\",\"params\":{\"field\":\"journal\",\"size\":10,\"order\":\"desc\",\"orderBy\":\"1\"}}],\"listeners\":{}}","description":"","title":"Journal over Year","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-papers\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"search","_id":"Actiivities-list","_score":1,"_source":{"sort":["standard_value","desc"],"hits":0,"description":"","title":"Actiivities list","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-activities\",\"filter\":[],\"highlight\":{\"pre_tags\":[\"@kibana-highlighted-field@\"],\"post_tags\":[\"@/kibana-highlighted-field@\"],\"fields\":{\"*\":{}},\"require_field_match\":false,\"fragment_size\":2147483647},\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}}}"},"columns":["activity_comment","data_validity_comment","standard_flag","standard_type","standard_relation","standard_value","standard_units","inactive"]}}
{"_index":".kibi","_type":"visualization","_id":"Activities-list","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"kibi-data-table\",\"params\":{\"clickOptions\":[],\"queryDefinitions\":[],\"columnAliases\":[\"Comment\",\"Data Validity Comment\",\"Flag\",\"Type\",\"Relation\",\"Value\",\"Units\",\"Inactive\"],\"columns\":[\"activity_comment\",\"data_validity_comment\",\"standard_flag\",\"standard_type\",\"standard_relation\",\"standard_value\",\"standard_units\",\"inactive\"],\"sort\":[\"standard_value\",\"desc\"],\"enableColumnAliases\":true},\"aggs\":[],\"listeners\":{},\"version\":2}","description":"","title":"Activities list","uiStateJSON":"{}","version":1,"savedSearchId":"Actiivities-list","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[]}"}}}
{"_index":".kibi","_type":"visualization","_id":"Assay-organism-bubble-diagram","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"kibi_bubble_diagram_vis\",\"params\":{\"showMetricsAtAllLevels\":false,\"addLegend\":true,\"enableZoom\":true,\"showParents\":true},\"aggs\":[{\"id\":\"1\",\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"assay_organism\",\"size\":20,\"order\":\"desc\",\"orderBy\":\"1\"}}],\"listeners\":{}}","description":"","title":"Assay organism bubble diagram","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-assays\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"dashboardgroup","_id":"Targets","_score":1,"_source":{"hide":false,"description":"","title":"Targets","dashboards":"[{\"id\":\"Targets\",\"title\":\"Papers\"}]","priority":100,"iconUrl":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"iconCss":""}}
{"_index":".kibi","_type":"dashboardgroup","_id":"Assays","_score":1,"_source":{"hide":false,"description":"","title":"Assays","dashboards":"[{\"id\":\"Assays\",\"title\":\"Papers\"}]","priority":100,"iconUrl":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"iconCss":""}}
{"_index":".kibi","_type":"dashboard","_id":"Assays","_score":1,"_source":{"hits":0,"timeRestore":false,"description":"","title":"Assays","uiStateJSON":"{\"P-3\":{\"histogram\":{\"vis\":{\"legendOpen\":false}}}}","panelsJSON":"[{\"id\":\"Assay-list\",\"type\":\"visualization\",\"panelIndex\":1,\"size_x\":10,\"size_y\":4,\"col\":1,\"row\":1},{\"id\":\"Assay-Type,-Tissue-and-Score\",\"type\":\"visualization\",\"panelIndex\":7,\"size_x\":6,\"size_y\":6,\"col\":1,\"row\":5},{\"id\":\"Confidence-score-distribution\",\"type\":\"visualization\",\"panelIndex\":3,\"size_x\":6,\"size_y\":4,\"col\":7,\"row\":5},{\"id\":\"Assay-organism-bubble-diagram\",\"type\":\"visualization\",\"panelIndex\":6,\"size_x\":6,\"size_y\":5,\"col\":7,\"row\":9},{\"id\":\"Assay-description-tag-cloud\",\"type\":\"visualization\",\"panelIndex\":4,\"size_x\":3,\"size_y\":3,\"col\":1,\"row\":11},{\"id\":\"Assay-type-tag-cloud\",\"type\":\"visualization\",\"panelIndex\":5,\"size_x\":3,\"size_y\":3,\"col\":4,\"row\":11},{\"id\":\"Relations\",\"type\":\"visualization\",\"panelIndex\":8,\"size_x\":2,\"size_y\":2,\"col\":11,\"row\":1}]","priority":0,"optionsJSON":"{\"darkTheme\":false}","version":1,"savedSearchId":"Assay-list","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[{\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}}}]}"}}}
{"_index":".kibi","_type":"dashboard","_id":"Targets","_score":1,"_source":{"hits":0,"timeRestore":false,"description":"","title":"Targets","uiStateJSON":"{}","panelsJSON":"[{\"id\":\"Target-list\",\"type\":\"visualization\",\"panelIndex\":1,\"size_x\":10,\"size_y\":4,\"col\":1,\"row\":1},{\"id\":\"Target-organism-bubble-diagram\",\"type\":\"visualization\",\"panelIndex\":3,\"size_x\":7,\"size_y\":4,\"col\":1,\"row\":5},{\"id\":\"Target-type-per-organism\",\"type\":\"visualization\",\"panelIndex\":2,\"size_x\":5,\"size_y\":4,\"col\":8,\"row\":5},{\"id\":\"Relations\",\"type\":\"visualization\",\"panelIndex\":4,\"size_x\":2,\"size_y\":2,\"col\":11,\"row\":1}]","priority":0,"optionsJSON":"{\"darkTheme\":false}","version":1,"savedSearchId":"all-targets","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[{\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}}}]}"}}}
{"_index":".kibi","_type":"visualization","_id":"Max-Phase-for-Indication","_score":1,"_source":{"title":"Max Phase for Disease","visState":"{\n  \"title\": \"Max Phase for Indication\",\n  \"type\": \"pie\",\n  \"params\": {\n    \"shareYAxis\": true,\n    \"addTooltip\": true,\n    \"addLegend\": true,\n    \"isDonut\": true\n  },\n  \"aggs\": [\n    {\n      \"id\": \"1\",\n      \"type\": \"count\",\n      \"schema\": \"metric\",\n      \"params\": {}\n    },\n    {\n      \"id\": \"2\",\n      \"type\": \"terms\",\n      \"schema\": \"segment\",\n      \"params\": {\n        \"field\": \"max_phase_for_ind\",\n        \"size\": 5,\n        \"order\": \"desc\",\n        \"orderBy\": \"1\"\n      }\n    },\n    {\n      \"id\": \"3\",\n      \"type\": \"terms\",\n      \"schema\": \"segment\",\n      \"params\": {\n        \"field\": \"efo_term\",\n        \"size\": 20,\n        \"order\": \"desc\",\n        \"orderBy\": \"1\",\n        \"customLabel\": \"disease\"\n      }\n    }\n  ],\n  \"listeners\": {}\n}","uiStateJSON":"{}","description":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\n  \"index\": \"chembl-molecules\",\n  \"query\": {\n    \"query_string\": {\n      \"query\": \"*\",\n      \"analyze_wildcard\": true\n    }\n  },\n  \"filter\": []\n}"}}}
{"_index":".kibi","_type":"script","_id":"Expand-by-top-comention","_score":1,"_source":{"version":2,"type":"contextual","description":"Given a company, expands the top 5 comentioned companies in articles","scriptSource":"/*\n * Expand by top comention\n *\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"beforeAll\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction beforeAll(graphId, graphModel, graphSelection) {\n  if (!graphSelection || graphSelection.length === 0) {\n    graphSelection = [];\n    _.each(graphModel.nodes, function (node) {\n       graphSelection.push(node.id);\n    });\n  }\n\n  let html = 'Type: <select ng-model=\"type\"><option selected value=\"comention\">Top Terms (Comention)</option>' +\n    '<option value=\"topterms\">Top Significant Terms</option></select><br>' +\n    'Number of results: <input type=\"text\" ng-model=\"number\" maxlength=\"3\" size=\"3\"/>';\n  f.openModal(graphId, 'Insert the number of top results', html);\n\n  return Promise.resolve({\n    model: graphModel,\n    selection: graphSelection\n  });\n}\n\nfunction onModalShow(scope, graphModel) {\n  scope.number = 5; // default value\n  scope.type = 'comention'; // default value\n}\n\nfunction onModalOk(scope, graphModel) {\n  return {\n    number: scope.number,\n    type: scope.type\n  };\n}\n\nfunction afterModalClosed(graphId, graphModel, graphSelection, onOkModalResult) {\n  const max_top_results = Number(onOkModalResult.number);\n  const agg_type = onOkModalResult.type;\n  const selIds = new Set(graphSelection);\n  const companies = _.filter(graphModel.nodes, function (node) {\n      return node.type === 'Company' && selIds.has(node.id);\n  });\n\n  const companyIds = _.map(companies, function (company) {\n     return company.payload.id;\n  });\n  const companyGremlinIds = _.map(companies, function (company) {\n     return company.id;\n  });\n\n  const companiesPromise = [];\n  for (let comp = 0; comp < companies.length; comp++) {\n    let aggregation;\n\n    if (agg_type === 'topterms') {\n      aggregation = {\n        significant_terms: { field: 'companies', size: max_top_results + 1 }\n      };\n    } else {\n      aggregation = {\n        terms: { field : 'companies', size: max_top_results + 1 }\n      };\n    }\n\n    const body = {\n      size : 0,\n      aggs: {\n        top_comentioned: {\n          filter: { term: {'companies' : companyIds[comp]} },\n          aggs: {\n            comention: aggregation\n          }\n        }\n      }\n    };\n\n    companiesPromise.push(f.executeEsSearch('article', 'Article', body, null).then(function (results) {\n      const promises = [];\n      const aggregationCounts = [];\n      const aggregationScores = [];\n      const buckets = results.aggregations.top_comentioned.comention.buckets;\n\n      for (let bu = 0; bu < buckets.length; bu++) {\n        if (bu === 0) continue;\n\n        const bucket = buckets[bu];\n        aggregationCounts.push(bucket.doc_count);\n        if (agg_type === 'topterms') {\n          aggregationScores.push(bucket.score);\n        } else {\n          aggregationScores.push(null);\n        }\n        const query = {query: {term: {id: bucket.key}}};\n        promises.push(f.executeEsSearch('company', 'Company', query, 1));\n      }\n\n      return Promise.all(promises).then(function (documents) {\n        const gremlinIds = [];\n        _.each(documents, function (doc) {\n          const hit = doc.hits.hits[0];\n          gremlinIds.push(hit._index + '/' + hit._type + '/' + hit._id);\n        });\n\n        const gremlinPromises = [];\n        const queryTemplate = 'g.V(\"$1\")';\n\n        _.each(gremlinIds, function (gremlinId) {\n          gremlinPromises.push(f.executeGremlinQuery(graphId, queryTemplate, gremlinId));\n        });\n\n        return Promise.all(gremlinPromises).then(function (gremlinResults){\n          const resultArray = [];\n          const ratio = 200 / 12;\n          for(let i = 0; i < gremlinResults.length; i++) {\n            const nodes = gremlinResults[i];\n\n            _.each(nodes, function (node) {\n              resultArray.push(node);\n              const linkPair = {};\n              linkPair.in = companyGremlinIds[comp];\n              linkPair.out = node.id;\n              let weight;\n              if (agg_type === 'topterms') {\n                weight = aggregationScores[i] + 1;\n              } else {\n                weight = Math.round((aggregationCounts[i] > 200 ? 200 : aggregationCounts[i]) / ratio) + 1;\n              }\n              resultArray.push(createScriptedLink(linkPair, weight, aggregationCounts[i], aggregationScores[i], agg_type));\n            });\n          }\n\n          return resultArray;\n        });\n      });\n    }));\n  }\n\n  return Promise.all(companiesPromise).then(function (results) {\n    return f.addResultsToGraph(graphId, companyGremlinIds, _.flatten(results));\n  });\n}\n\nfunction createScriptedLink(linkPair, weight, comentions, score, type) {\n  let label = comentions + ' comentions';\n  if (score) {\n    label = label + ' (' + Number((score).toFixed(4)) + ')';\n  }\n  return {\n    id: hashCode(linkPair.in, linkPair.out, type),\n    type: 'edge',\n    label: label,\n    w: weight,\n    c: \"rgb(119,165,255)\",\n    inV: linkPair.in,\n    outV: linkPair.out\n};\n}\n\nfunction hashCode(s1, s2, type){\n  let s;\n  if (s1 > s2) {\n    s = s1 + s2;\n  } else {\n    s = s2 + s1;\n  }\n  return 'SCRIPTED_EDGE_COMENTIONS-'+ type + s.split(\"\").reduce(function(a,b){a=((a<<5)-a)+b.charCodeAt(0);return a&a},0);\n}","title":"Expand by top comention"}}
{"_index":".kibi","_type":"script","_id":"Add-geo-locations-for-map-visualization.-(works-only-with-Kibi-Demo-data)","_score":1,"_source":{"version":2,"type":"onGraphUpdate","description":"Adds the geopoint to nodes to enable the map view.  (works only with Kibi Demo data)","scriptSource":"/*\n * Add geo locations for map visualization. (works only with Kibi Demo data)\n *\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"onGraphUpdate\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction onGraphUpdate(graphId, kibiGraphModel) {\n  _.each(kibiGraphModel.nodes, function (node) {\n    if (node.type === 'Company') {\n      if (node.payload && node.payload.location) {\n        const latLong = node.payload.location.split(', ');\n        node.map = {\n          lat: latLong[0],\n          lng: latLong[1]\n        }\n      }\n    }\n  });\n\n  return kibiGraphModel;\n}","title":"Add geo-locations for map visualization.  (works only with Kibi Demo data)"}}
{"_index":".kibi","_type":"script","_id":"Select-Extend","_score":1,"_source":{"version":2,"type":"contextual","description":"Extends the current selection to the neighbors.","scriptSource":"/*\n * Select Extend\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"beforeAll\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction beforeAll(graphId, graphModel, graphSelection) {\n  let newSelection = [];\n\n  _.each(graphSelection, function (selectedNode) {\n    _.each(graphModel.relations, function (relation) {\n      if (relation.in === selectedNode) {\n        newSelection.push(relation.out);\n      }\n      if (relation.out === selectedNode) {\n        newSelection.push(relation.in);\n      }\n    });\n    newSelection.push(selectedNode);\n  });\n\n  return Promise.resolve({ selection: newSelection});\n}","title":"Select - Extend"}}
{"_index":".kibi","_type":"script","_id":"Select-Invert","_score":1,"_source":{"version":2,"type":"contextual","description":"Inverts the current selection.","scriptSource":"/*\n * Select Invert\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"beforeAll\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction beforeAll(graphId, graphModel, graphSelection) {\n  let oldSelectionSet = new Set(graphSelection);\n  let newSelection = [];\n\n  _.each(graphModel.nodes, function (node) {\n    if (!oldSelectionSet.has(node.id)) {\n      newSelection.push(node.id);\n    }\n  });\n\n  return Promise.resolve({\n    model: null,\n    selection: newSelection\n  });\n}","title":"Select - Invert"}}
{"_index":".kibi","_type":"visualization","_id":"Assay-type-tag-cloud","_score":1,"_source":{"visState":"{\"title\":\"Assay description tag cloud\",\"type\":\"tagcloud\",\"params\":{\"scale\":\"linear\",\"orientation\":\"single\",\"minFontSize\":18,\"maxFontSize\":72},\"aggs\":[{\"id\":\"1\",\"type\":\"count\",\"schema\":\"metric\",\"params\":{},\"enabled\":true},{\"id\":\"2\",\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"assay_desc\",\"size\":10,\"order\":\"desc\",\"orderBy\":\"1\"},\"enabled\":true}],\"listeners\":{}}","description":"","title":"Assay type tag cloud","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-assays\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"script","_id":"Default-Expansion-Policy","_score":1,"_source":{"version":2,"type":"expansion","description":"Expands the selected nodes using the selected relations","scriptSource":"function expandFunction(graphId, selectionIds, graphModel) {\n  return f.defaultExpansion(graphId, selectionIds).then(function (results) {\n    return f.addResultsToGraph(graphId, selectionIds, results);\n  });\n}","title":"Default Expansion Policy"}}
{"_index":".kibi","_type":"dashboard","_id":"Articles","_score":1,"_source":{"title":"Articles","hits":0,"description":"","panelsJSON":"[{\"id\":\"Journal-over-Year\",\"type\":\"visualization\",\"panelIndex\":1,\"size_x\":8,\"size_y\":4,\"col\":1,\"row\":1},{\"id\":\"Abstract-word-cloud\",\"type\":\"visualization\",\"panelIndex\":3,\"size_x\":4,\"size_y\":3,\"col\":9,\"row\":1},{\"id\":\"papers-list\",\"type\":\"visualization\",\"panelIndex\":2,\"size_x\":8,\"size_y\":8,\"col\":1,\"row\":5},{\"size_x\":4,\"size_y\":3,\"panelIndex\":4,\"type\":\"visualization\",\"id\":\"Title-word-cloud\",\"col\":9,\"row\":7},{\"size_x\":4,\"size_y\":3,\"panelIndex\":5,\"type\":\"visualization\",\"id\":\"7ca87f10-f45e-11e7-b1f7-edb5531cb52a\",\"col\":9,\"row\":4}]","optionsJSON":"{\"darkTheme\":false,\"hideBorders\":false}","uiStateJSON":"{\"P-1\":{\"vis\":{\"legendOpen\":true}}}","version":1,"timeRestore":false,"savedSearchId":"","priority":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[{\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}}}],\"highlightAll\":true,\"version\":true}"}}}
{"_index":".kibi","_type":"datasource","_id":"Kibi-Gremlin-Server","_score":1,"_source":{"kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"version":1,"datasourceParams":"{\"timeout\":\"10000\",\"max_age\":3600000,\"url\":\"https://127.0.0.1:8061/graph/queryBatch\"}","datasourceType":"tinkerpop3","description":"","title":"Kibi Gremlin Server"}}
{"_index":".kibi","_type":"template","_id":"kibi-json-jade","_score":1,"_source":{"templateSource":"//- The data passed to the template has the following format\n//- {\n//-   id: STRING, // a unique random id\n//-   results: {...}, // data returned by the query\n//-   config: {},     // query configuration\n//-   \n//- }\n//-\n//- Data returned by the query is assigned\n//- to the **results** property \n//- and can be used inside the template.\n\npre(id=id)= empty\nscript(type='text/javascript').\n  var id = '!{id}';\n  var x = !{JSON.stringify(results)};\n  var el = document.getElementById(id);\n  el.innerHTML = JSON.stringify(x, null, ' ');","description":"A Jade template that displays query results as a JSON object.","title":"kibi-json-jade","templateEngine":"jade","version":2,"kibanaSavedObjectMeta":{"searchSourceJSON":"{}"}}}
{"_index":".kibi","_type":"search","_id":"Molecules-sorted-by-therapeutic","_score":1,"_source":{"sort":["therapeutic_flag","desc"],"hits":0,"description":"","title":"Molecules sorted by therapeutic","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\n  \"index\": \"chembl-molecules\",\n  \"query\": {\n    \"query_string\": {\n      \"query\": \"*\",\n      \"analyze_wildcard\": true\n    }\n  },\n  \"filter\": [],\n  \"highlight\": {\n    \"pre_tags\": [\n      \"@kibana-highlighted-field@\"\n    ],\n    \"post_tags\": [\n      \"@/kibana-highlighted-field@\"\n    ],\n    \"fields\": {\n      \"*\": {}\n    },\n    \"require_field_match\": false,\n    \"fragment_size\": 2147483647\n  }\n}"},"columns":["chembl_id","indication_class","synonyms","therapeutic_flag","molecule_type","pref_name","molregno"]}}
{"_index":".kibi","_type":"visualization","_id":"Target-list","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"kibi-data-table\",\"params\":{\"clickOptions\":[],\"queryDefinitions\":[],\"columnAliases\":[\"Name\",\"Uniprot Accession\",\"Type\",\"Organism\",\"Synonyms\",\"Chembl ID\"],\"columns\":[\"pref_name\",\"accession\",\"target_type\",\"organism\",\"synonyms\",\"chembl_id\"],\"sort\":[\"_score\",\"desc\"],\"enableColumnAliases\":true},\"aggs\":[],\"listeners\":{},\"version\":2}","description":"","title":"Target list","uiStateJSON":"{}","version":1,"savedSearchId":"all-targets","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[]}"}}}
{"_index":".kibi","_type":"visualization","_id":"Activity-value-boxplot","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"kibi_boxplot_vis\",\"params\":{\"showValues\":false,\"restrictYAxisMax\":true,\"globalMax\":\"100000\",\"restrictYAxisMin\":true,\"globalMin\":\"-1000\"},\"aggs\":[{\"id\":\"1\",\"type\":\"percentiles\",\"schema\":\"metric\",\"params\":{\"field\":\"standard_value\",\"percents\":[25,50,75]}},{\"id\":\"2\",\"type\":\"max\",\"schema\":\"metric\",\"params\":{\"field\":\"standard_value\"}},{\"id\":\"3\",\"type\":\"min\",\"schema\":\"metric\",\"params\":{\"field\":\"standard_value\"}},{\"id\":\"4\",\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"5\",\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"standard_type\",\"size\":20,\"order\":\"desc\",\"orderBy\":\"4\"}}],\"listeners\":{}}","description":"","title":"Activity value boxplot","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-activities\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"dashboardgroup","_id":"Papers","_score":1,"_source":{"hide":false,"description":"","title":"Papers","dashboards":"[{\"id\":\"Articles\",\"title\":\"Papers\"}]","priority":100,"iconUrl":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"iconCss":""}}
{"_index":".kibi","_type":"dashboard","_id":"Papers","_score":1,"_source":{"hits":0,"timeRestore":false,"description":"","title":"Papers","uiStateJSON":"{}","panelsJSON":"[{\"id\":\"Journal-over-Year\",\"type\":\"visualization\",\"panelIndex\":1,\"size_x\":8,\"size_y\":3,\"col\":1,\"row\":1},{\"id\":\"Abstract-word-cloud\",\"type\":\"visualization\",\"panelIndex\":3,\"size_x\":4,\"size_y\":4,\"col\":9,\"row\":3},{\"id\":\"papers-list\",\"type\":\"visualization\",\"panelIndex\":2,\"size_x\":8,\"size_y\":8,\"col\":1,\"row\":4},{\"id\":\"Relations\",\"type\":\"visualization\",\"panelIndex\":4,\"size_x\":3,\"size_y\":2,\"col\":9,\"row\":1},{\"id\":\"Title-word-cloud\",\"type\":\"visualization\",\"panelIndex\":5,\"size_x\":4,\"size_y\":3,\"col\":9,\"row\":7}]","priority":0,"optionsJSON":"{\"darkTheme\":false}","version":1,"savedSearchId":"Papers-ordered-by-year","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[{\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}}}]}"}}}
{"_index":".kibi","_type":"template","_id":"kibi-html-angular","_score":1,"_source":{"title":"kibi-html-angular","description":"An html-angular template, for each document displays a panel populated with all property values","templateSource":"<!-- Example html-angular template \n     For each document a panel populated with all property values !-->\n<!DOCTYPE html>\n<div style=\"word-wrap: break-word;\">\n    <div ng-repeat=\"hit in hits|limitTo:limit track by hit._index+hit._type+hit._id+hit._score\"  class=\"snippet\"  style=\"width: 99%; border:1px #ddd solid; margin: 4px; padding: 4px; float: left\">\n        <h4 style=\"margin: 10px\" ng-if=\"hit._source.title\">\n            <div ng-bind-html=\"indexPattern.formatField(hit, 'title') | trustAsHtml\"></div>\n        </h4>\n                <table>\n                    <tr>\n                        <th style=\"text-align: right; padding: 4px;\">Property</th>\n                        <th style=\"padding: 4px;\">Value</th>\n                    </tr>      \n                    <tr ng-repeat=\"(key,value) in hit._source\"  ng-if=\"value !== null && value !== undefined && value !== ''\">\n                        <td style=\"width: 150px; font-weight: bold; vertical-align: top; text-align: right; padding: 4px;\"> {{key}}:</td>\n                        <td style=\"padding: 4px;\">{{value}}</td>\n                    </tr>  \n                </table>\n      </div>\n</div>\n<div style=\"clear: both;\"></div>","templateEngine":"html-angular","version":2,"kibanaSavedObjectMeta":{"searchSourceJSON":"{}"}}}
{"_index":".kibi","_type":"visualization","_id":"Acitivity-type-word-cloud","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"tagcloud\",\"params\":{\"scale\":\"linear\",\"orientation\":\"single\",\"minFontSize\":18,\"maxFontSize\":72},\"aggs\":[{\"id\":\"1\",\"type\":\"count\",\"schema\":\"metric\",\"params\":{},\"enabled\":true},{\"id\":\"2\",\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"standard_type\",\"size\":30,\"order\":\"desc\",\"orderBy\":\"1\"},\"enabled\":true}],\"listeners\":{}}","description":"","title":"Acitivity type word cloud","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-activities\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"script","_id":"Select-By-Edge-Count","_score":1,"_source":{"version":2,"type":"contextual","description":"Select nodes by their number of relations","scriptSource":"/*\n * Select by edge count\n *\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"beforeAll\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction beforeAll(graphId, graphModel, graphSelection) {\n  let html = '<input type=\"checkbox\" ng-model=\"visible\"> Consider only visible edges </input></br>'\n    + 'Relation count: <input type=\"text\" ng-model=\"number\" maxlength=\"5\" size=\"5\"/>';\n  f.openModal(graphId, 'Insert the relations number', html);\n\n  return Promise.resolve({\n    model: null,\n    selection: null\n  });\n}\n\nfunction onModalShow(scope, graphModel) {\n    scope.number = 2; // default value\n    scope.visible = true; // default value\n}\n\nfunction onModalOk(scope, graphModel) {\n    return {\n        onlyVisibleEdges: scope.visible,\n        relationsNumber: scope.number\n    }\n}\n\nfunction afterModalClosed(graphId, graphModel, graphSelection, onOkModalResult) {\n    let selection = [];\n\n    if(onOkModalResult.onlyVisibleEdges) {\n        let nodesMap = {};\n        _.each(graphModel.relations, function (relation) {\n            if (nodesMap[relation.in]) {\n                nodesMap[relation.in] = nodesMap[relation.in] +1;\n            } else {\n                nodesMap[relation.in] = 1;\n            }\n\n            if (nodesMap[relation.out]) {\n                nodesMap[relation.out] = nodesMap[relation.in] +1;\n            } else {\n                nodesMap[relation.out] = 1;\n            }\n        });\n\n        for (var p in nodesMap) {\n            if (nodesMap.hasOwnProperty(p)) {\n                if (nodesMap[p] >= parseInt(onOkModalResult.relationsNumber, 10)) {\n                    selection.push(p);\n                }\n            }\n        }\n\n    } else {\n        _.each(graphModel.nodes, function (node) {\n            if (node.glyphs) {\n                _.each(node.glyphs, function (glyph) {\n                    if (glyph.p === 'ne' && parseInt(glyph.t, 10) >= parseInt(onOkModalResult.relationsNumber, 10)) {\n                        selection.push(node.id);\n                    }\n                });\n            }\n        });\n    }\n\n    return {\n        model: null,\n        selection: selection\n    };\n}","title":"Select - By Edge Count"}}
{"_index":".kibi","_type":"script","_id":"Add-time-fields.-(works-only-with-Kibi-Demo-data)","_score":1,"_source":{"version":2,"type":"onGraphUpdate","description":"Adds the time field to nodes to enable the timebar. (works only with Kibi Demo data)","scriptSource":"/*\n * Add time fields. (works only with Kibi Demo data) - default implementation\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * Globals:\n *\n * - kibiTimezone: a string containing the value of the dateFormat:tz setting.\n * - moment: an instance of moment-timezone with the default timezone set to the value of the dateFormat:tz setting.\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"onGraphUpdate\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction onGraphUpdate(graphId, kibiGraphModel) {\n  _.each(kibiGraphModel.nodes, function (node) {\n    let momentTime;\n\n    // Parses a date string in the specified timezone\n    function parseDate(date, timezone) {\n      return moment.tz(date, 'YYYY-MM-DD HH:mm:SS', timezone);\n    }\n\n    if (node.type === 'Company') {\n      if (node.payload.founded_date) {\n        momentTime = parseDate(node.payload.founded_date, 'UTC');\n      }\n    } else if (node.type === 'Investor') {\n      if (node.payload.founded_date) {\n        momentTime = parseDate(node.payload.founded_date, 'UTC');\n        if (momentTime.year() < 2000) {\n          momentTime.year(2000);\n        }\n      }\n    } else if (node.type === 'Investment') {\n      if (node.payload.funded_date) {\n        momentTime = parseDate(node.payload.funded_date, 'UTC');\n      }\n    } else if (node.type === 'Article') {\n      if (node.payload.pdate) {\n        momentTime = parseDate(node.payload.pdate, 'UTC');\n      }\n    }\n\n    if (momentTime) {\n      // To ensure that Keylines displays localized in the timeline, we shift the UTC timestamp (momentTime.valueOf()) by the offset of the\n      // timezone on this date.\n      node.time = momentTime.valueOf() - moment.tz.zone(kibiTimezone).offset(momentTime.valueOf()) * 60000;\n    }\n  });\n\n  return Promise.resolve(kibiGraphModel);\n}\n","title":"Add time fields. (works only with Kibi Demo data)"}}
{"_index":".kibi","_type":"url","_id":"ece0919ca2177dbd2a275da209c8ffc9","_score":1,"_source":{"url":"/app/kibana#/dashboard/Articles?_g=()&_k=(g:(Papers:Articles))&_a=(description:%27%27,filters:!(),id:Articles,options:(darkTheme:!f,hideBorders:!f),panels:!((col:1,id:Journal-over-Year,panelIndex:1,row:1,size_x:8,size_y:4,type:visualization),(col:9,id:Abstract-word-cloud,panelIndex:3,row:1,size_x:3,size_y:2,type:visualization),(col:1,id:papers-list,panelIndex:2,row:5,size_x:8,size_y:8,type:visualization),(col:9,id:Title-word-cloud,panelIndex:4,row:3,size_x:4,size_y:3,type:visualization)),query:(query_string:(analyze_wildcard:!t,query:%27*%27)),timeRestore:!f,title:Articles,uiState:(),viewMode:view)","accessCount":0,"createDate":"2018-01-15T10:49:54.611Z","accessDate":"2018-01-15T10:49:54.611Z","sirenSession":{}}}
{"_index":".kibi","_type":"visualization","_id":"7ca87f10-f45e-11e7-b1f7-edb5531cb52a","_score":1,"_source":{"title":"Title word cloud","visState":"{\"title\":\"Title word cloud\",\"type\":\"tagcloud\",\"params\":{\"scale\":\"linear\",\"orientation\":\"single\",\"minFontSize\":18,\"maxFontSize\":72,\"type\":\"tagcloud\"},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"title\",\"exclude\":\"1|2|3|4|5|6|7|8|9|0|.{1}\",\"size\":20,\"order\":\"desc\",\"orderBy\":\"1\"}}],\"listeners\":{},\"kibiSettings\":{}}","uiStateJSON":"{}","description":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-papers\",\"query\":{\"match_all\":{}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"search","_id":"all-targets","_score":1,"_source":{"sort":["_score","desc"],"hits":0,"description":"","title":"all targets","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-target\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[],\"highlight\":{\"pre_tags\":[\"@kibana-highlighted-field@\"],\"post_tags\":[\"@/kibana-highlighted-field@\"],\"fields\":{\"*\":{}},\"require_field_match\":false,\"fragment_size\":2147483647}}"},"columns":["pref_name","accession","target_type","organism","synonyms","chembl_id"]}}
{"_index":".kibi","_type":"visualization","_id":"assay-type-confidence-score-barchart","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"kibi_boxplot_vis\",\"params\":{\"showValues\":false},\"aggs\":[{\"id\":\"1\",\"type\":\"percentiles\",\"schema\":\"metric\",\"params\":{\"field\":\"confidence_score\",\"percents\":[25,50,75]}},{\"id\":\"2\",\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"assay_test_type\",\"size\":14,\"order\":\"desc\",\"orderBy\":\"_term\",\"customLabel\":\"Type\"}},{\"id\":\"3\",\"type\":\"max\",\"schema\":\"metric\",\"params\":{\"field\":\"confidence_score\"}},{\"id\":\"4\",\"type\":\"min\",\"schema\":\"metric\",\"params\":{\"field\":\"confidence_score\"}},{\"id\":\"5\",\"type\":\"count\",\"schema\":\"metric\",\"params\":{}}],\"listeners\":{}}","description":"","title":"assay type confidence score barchart","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-assays\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"visualization","_id":"molecule-list","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"kibi-data-table\",\"params\":{\"clickOptions\":[],\"queryDefinitions\":[],\"columnAliases\":[\"Name\",\"Chembl ID\",\"Description\",\"Indication Class\",\"Max Phase\",\"Molecular Species\",\"Molecule Type\",\"RO5 Violations\",\"Structure Type\",\"Disease\",\"Molecular Formula\",\"MWT\"],\"columns\":[\"pref_name\",\"chembl_id\",\"description\",\"indication_class\",\"max_phase_for_ind\",\"molecular_species\",\"molecule_type\",\"num_ro5_violations\",\"structure_type\",\"efo_term\",\"full_molformula\",\"full_mwt\"],\"sort\":[\"description\",\"asc\"],\"enableColumnAliases\":true},\"aggs\":[],\"listeners\":{},\"version\":2}","description":"","title":"molecule list","uiStateJSON":"{}","version":1,"savedSearchId":"Molecule-list","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[]}"}}}
{"_index":".kibi","_type":"visualization","_id":"Source-and-Indication-donut-chart","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"pie\",\"params\":{\"shareYAxis\":true,\"addTooltip\":true,\"addLegend\":true,\"isDonut\":true},\"aggs\":[{\"id\":\"1\",\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"compound_source_description\",\"size\":20,\"order\":\"desc\",\"orderBy\":\"1\",\"customLabel\":\"Source\"}},{\"id\":\"3\",\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"indication_class\",\"size\":5,\"order\":\"desc\",\"orderBy\":\"1\"}}],\"listeners\":{}}","description":"","title":"Source and Indication donut chart","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-molecules\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"visualization","_id":"Assay-described-in","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"kibi_sequential_join_vis\",\"params\":{\"buttons\":[{\"indexRelationId\":\"chembl-assays//doc_id/chembl-papers//doc_id\",\"sourceDashboardId\":\"Papers\",\"targetDashboardId\":\"Assays\",\"label\":\"Described in\"}]},\"aggs\":[],\"listeners\":{},\"version\":2}","description":"","title":"Assay described in","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"visualization","_id":"Target-type-per-organism","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"heatmap\",\"params\":{\"addTooltip\":true,\"addLegend\":true,\"enableHover\":false,\"legendPosition\":\"right\",\"times\":[],\"colorsNumber\":6,\"colorSchema\":\"Greens\",\"setColorRange\":false,\"colorsRange\":[],\"invertColors\":false,\"percentageMode\":false,\"valueAxes\":[{\"show\":false,\"id\":\"ValueAxis-1\",\"type\":\"value\",\"scale\":{\"type\":\"linear\",\"defaultYExtents\":false},\"labels\":{\"show\":false,\"rotate\":0,\"color\":\"#555\"}}]},\"aggs\":[{\"id\":\"1\",\"type\":\"count\",\"schema\":\"metric\",\"params\":{},\"enabled\":true},{\"id\":\"2\",\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"target_type\",\"size\":10,\"order\":\"desc\",\"orderBy\":\"1\"},\"enabled\":true},{\"id\":\"3\",\"type\":\"terms\",\"schema\":\"group\",\"params\":{\"field\":\"organism\",\"size\":5,\"order\":\"desc\",\"orderBy\":\"1\"},\"enabled\":true}],\"listeners\":{}}","description":"","title":"Target type per organism","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-target\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"script","_id":"Select-By-Type","_score":1,"_source":{"version":2,"type":"contextual","description":"Selects all the nodes of the chosen type.","scriptSource":"/*\n * Select by type\n *\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"beforeAll\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction beforeAll(graphId, graphModel, graphSelection) {\n  let html = '<div ng-repeat=\"(type,enabled) in types\">'+\n    '<input type=\"checkbox\" ng-model=\"types[type]\"> {{type}} </input>'+\n    '</div>';\n  f.openModal(graphId, 'Choose the type of items to be selected', html);\n\n  return Promise.resolve({\n    model: null,\n    selection: null\n  });\n}\n\nfunction onModalShow(scope, graphModel) {\n  let graphTypesSet = new Set();\n  _.each(graphModel.nodes, function (node) {\n    graphTypesSet.add(node.type);\n  });\n  scope.types = {};\n\n  _.each(Array.from(graphTypesSet), function (type) {\n    scope.types[type] = false;\n  });\n}\n\nfunction onModalOk(scope, graphModel) {\n  let selection = [];\n\n  _.each(graphModel.nodes, function (node) {\n    if (scope.types[node.type]) {\n      selection.push(node.id);\n    }\n  });\n\n  return {\n    model: null,\n    selection: selection\n  };\n}\n\nfunction afterModalClosed(graphId, graphModel, graphSelection, onOkModalResult) {\n  return {\n    model: null,\n    selection: onOkModalResult.selection\n  };\n}","title":"Select - By Type"}}
{"_index":".kibi","_type":"script","_id":"Show-nodes-count-by-type","_score":1,"_source":{"version":2,"type":"contextual","description":"Opens a popup showing the node types followed by their count.","scriptSource":"/*\n * Show nodes count by type\n *\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"beforeAll\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction beforeAll(graphId, graphModel, graphSelection) {\n  let typeCounter = {};\n\n  _.each(graphModel.nodes, function (node) {\n    if (typeCounter[node.type]) {\n      typeCounter[node.type] = typeCounter[node.type] + 1;\n    } else {\n      typeCounter[node.type] = 1;\n    }\n  });\n\n  let prettyString = '<ul>';\n  for (var key in typeCounter) {\n    if (typeCounter.hasOwnProperty(key)) {\n      prettyString = prettyString + '<li>';\n      prettyString = prettyString + key + ': ' + typeCounter[key];\n      prettyString = prettyString + '</li>';\n    }\n  }\n  prettyString = prettyString + '</ul>';\n\n  f.openModal(graphId, 'Number of nodes in the current graph', prettyString);\n  return Promise.resolve(null);\n}","title":"Show nodes count by type"}}
{"_index":".kibi","_type":"script","_id":"Replace-Investment-with-edge-(onUpdate).-(works-only-with-Kibi-Demo-data)","_score":1,"_source":{"version":2,"type":"onGraphUpdate","description":"Replace all the investment nodes with an edge (onUpdate). (works only with Kibi Demo data)","scriptSource":"/*\n * Replace Investment Nodes (onUpdate) - default implementation\n *\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"onGraphUpdate\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction onGraphUpdate(graphId, kibiGraphModel) {\n    const newGraphNodes = [];\n    const promises = [];\n    const newExpandedNodes = [];\n\n    _.each(kibiGraphModel.nodes, function (node) {\n        if (node.type === 'Investment') {\n            const queryTemplate = 'g.V(\\'$1\\').bothE().as(\\'e\\').bothV().as(\\'v\\').select(\\'e\\',\\'v\\').mapValues().dedup()';\n            promises.push(f.executeGremlinQueryAndParse(graphId, queryTemplate, [node.id]).then(function (results) {\n              const investor = _.find(results, {'type': 'Investor'});\n              const company = _.find(results, {'type': 'Company'});\n\n              if (company && investor) {\n                const linkPair = {\n                    in: company.id,\n                    out: investor.id\n                };\n                let weight = 2;\n                let raised = node.payload.raised_amount;\n                if (raised && raised > 0) {\n                    weight = (3*Math.log(raised)) - 38;\n                    if (weight < 1) {\n                        weight = 1;\n                    }\n                }\n\n                const newRelation = createScriptedLink(linkPair, weight, raised, node, 'in');\n                newExpandedNodes.push(investor);\n                newExpandedNodes.push(company);\n\n                return newRelation;\n              } else {\n                return {};\n              }\n            }));\n        } else {\n            newGraphNodes.push(node);\n        }\n    });\n\n    kibiGraphModel.nodes = newGraphNodes;\n\n    return Promise.all(promises).then(function (results) {\n        kibiGraphModel.relations = kibiGraphModel.relations.concat(results);\n        kibiGraphModel.nodes = kibiGraphModel.nodes.concat(newExpandedNodes);\n        return kibiGraphModel;\n    })\n}\n\nfunction createScriptedLink(linkPair, weight, raised, node, direction) {\n    return {\n        id: hashCode(linkPair.in + linkPair.out + node.id),\n        label: 'invested: ' + (raised ? raised : 'n/a'),\n        direction: direction,\n        size: weight,\n        color: 'rgb(119,165,255)',\n        in: linkPair.in,\n        out: linkPair.out\n    };\n}\n\nfunction hashCode(s){\n  return 'SCRIPTED_EDGE_ON_UPDATE-'+ s.split('').reduce(function(a,b){a=((a<<5)-a)+b.charCodeAt(0);return a&a},0);\n}","title":"Replace Investment with edge (onUpdate). (works only with Kibi Demo data)"}}
{"_index":".kibi","_type":"index-pattern","_id":"chembl-target","_score":1,"_source":{"title":"chembl-target","fields":"[{\"name\":\"_id\",\"esType\":\"_id\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_index\",\"esType\":\"_index\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_score\",\"esType\":\"text\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_source\",\"esType\":\"_source\",\"type\":\"_source\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_type\",\"esType\":\"_type\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"accession\",\"esType\":\"text\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"accession.keyword\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"chembl_id\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"organism\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"pref_name\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"synonyms\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"target_type\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"tid\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true}]","paths":"{\"accession\":[\"accession\"],\"chembl_id\":[\"chembl_id\"],\"organism\":[\"organism\"],\"pref_name\":[\"pref_name\"],\"synonyms\":[\"synonyms\"],\"target_type\":[\"target_type\"],\"tid\":[\"tid\"]}","fieldFormatMap":"{\"accession\":{\"id\":\"url\",\"params\":{\"urlTemplate\":\"http://www.uniprot.org/uniprot/{{value}}\",\"labelTemplate\":\"{{value}}\"}},\"chembl_id\":{\"id\":\"url\",\"params\":{\"urlTemplate\":\"https://www.ebi.ac.uk/chembl/target/inspect/{{value}}\",\"labelTemplate\":\"{{value}}\"}}}"}}
{"_index":".kibi","_type":"visualization","_id":"Title-word-cloud","_score":1,"_source":{"title":"Authors word cloud","visState":"{\"title\":\"Authors word cloud\",\"type\":\"tagcloud\",\"params\":{\"scale\":\"linear\",\"orientation\":\"single\",\"minFontSize\":18,\"maxFontSize\":72,\"type\":\"tagcloud\"},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"author_list\",\"size\":20,\"order\":\"desc\",\"orderBy\":\"1\"}}],\"listeners\":{},\"kibiSettings\":{}}","uiStateJSON":"{}","description":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-papers\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"template","_id":"kibi-table-jade","_score":1,"_source":{"templateSource":"//- Jade generic table template example\n\n- var display    = (config.open === true ? 'block' : 'none')\n- var buttonText = (config.open === true ? '- Hide' : '+ Show')\n\nstyle.\n thead.custome-header thead{color:#black;}\n\na(href=\"javascript:showHide('#{id}');\", id=\"button-#{id}\", class=\"snippetShowHideButton\") #{buttonText} \nspan= ' '\nspan(class=\"snippetLabel\")= config.templateVars.label\nspan=  ' ('+results.bindings.length +') '\ndiv(id=\"cont-#{id}\", style={display: display})\n  if results.bindings.length == 0\n    div(class=\"table-vis-error\") \n      h2\n        i(class=\"fa fa-meh-o\")\n      h4 No results found\n  else\n    table(class='table table-condensed custome-header')\n      thead\n        tr\n          each val in head.vars\n            th= val\n      tbody\n        each binding in results.bindings\n          tr\n            each varName in head.vars\n              if binding[varName]\n                if binding[varName].type == \"uri\"\n                  td\n                    a(href=\"#{binding[varName].value}\") #{binding[varName].label}\n                else\n                  td= binding[varName].value\n              else\n                td\nscript(type='text/javascript').\n  function showHide(id){\n    var buttonEl = document.getElementById('button-' + id);\n    var contEl = document.getElementById('cont-' + id);\n    var style = window.getComputedStyle(contEl);\n  \n    if (style.display == 'none') {\n      contEl.style.display = 'block';\n      buttonEl.innerHTML = '- Hide';\n    } else {\n      buttonEl.innerHTML = '+ Show';\n      contEl.style.display = 'none';\n    }\n  }\n  var x = !{JSON.stringify(results)};","description":"A Jade template that displays query results as a table.","title":"kibi-table-jade","templateEngine":"jade","version":2,"kibanaSavedObjectMeta":{"searchSourceJSON":"{}"}}}
{"_index":".kibi","_type":"template","_id":"kibi-table-handlebars","_score":1,"_source":{"templateSource":"{{! Handlebars table template example}}\n\n{{#if config.templateVars.hidden}}\n{{else}}\n  {{#if config.open}}\n    <span class=\"snippetLabel\">{{config.templateVars.label}}</span>\n    <a href=\"javascript:showHide('{{id}}');\" id=\"button-{{id}}\" class=\"snippetShowHideButton\" style=\"font-size:12px;\">- Hide</a> \n    <span> ({{results.bindings.length}})</span>\n    <div id=\"cont-{{id}}\"  style=\"display: block;\">\n  {{else}}\n    <span class=\"snippetLabel\">{{config.templateVars.label}}</span>\n    <a href=\"javascript:showHide('{{id}}');\" id=\"button-{{id}}\" class=\"snippetShowHideButton\" style=\"font-size:12px;\"> + Show</a> \n    <span> ({{results.bindings.length}})</span>\n    <div id=\"cont-{{id}}\"  style=\"display: none;\">\n  {{/if}}\n  <style>\n    table.custom-header th {color:black;}\n  </style>\n  <table class=\"table table-condensed custom-header\">\n      <thead>\n      <tr>\n          {{#each head.vars}}\n              <th>{{this}}</th>\n          {{/each}}\n      </tr>\n      </thead>\n      <tbody>\n      {{#each results.bindings}}\n      <tr>\n          {{#each ../head.vars}}\n            \n            {{!-- \n                  to handle \"this\" correctly a custom helper is available  \n                  \"../this\" is a reference to the binding\n                  while \"this\" contains the variable name\n            --}}\n            \n            {{#getVariableValue ../this this \"uri\" }}\n              <td>\n                <a href=\"{{value}}\">{{label}}</a>\n              </td>\n            {{else}}\n              <td>\n                {{value}}\n              </td>\n            {{/getVariableValue}}\n          {{/each}}\n      </tr>\n      {{/each}}\n      </tbody>\n  </table>\n  <br/>\n  <br/>\n  <script>\n    // here is how to pass the results  \n    var x = {{{json results}}};\n    // console.log(x);\n  \n   function showHide(id){\n    var buttonEl = document.getElementById('button-' + id);\n    var contEl = document.getElementById('cont-' + id);\n    var style = window.getComputedStyle(contEl);\n  \n    if (style.display == 'none') {\n      contEl.style.display = 'block';\n      buttonEl.innerHTML = '- Hide';\n    } else {\n      buttonEl.innerHTML = '+ Show';\n      contEl.style.display = 'none';\n    }\n  }\n<{{!}}/script>\n  </div>\n{{/if}}","description":"A Handlebars template that displays query results as a table.","title":"kibi-table-handlebars","templateEngine":"handlebars","version":2,"kibanaSavedObjectMeta":{"searchSourceJSON":"{}"}}}
{"_index":".kibi","_type":"visualization","_id":"papers-list","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"kibi-data-table\",\"params\":{\"clickOptions\":[],\"queryDefinitions\":[],\"columnAliases\":[\"Title\",\"Abstract\",\"Authors\",\"Pubmed\",\"doc_id\",\"DOI\",\"Journal\",\"Jear\"],\"columns\":[\"title\",\"abstract\",\"authors\",\"pubmed_id\",\"doc_id\",\"doi\",\"journal\",\"year\"],\"sort\":[\"year\",\"desc\"],\"enableColumnAliases\":true},\"aggs\":[],\"listeners\":{},\"version\":2}","description":"","title":"papers list","uiStateJSON":"{}","version":1,"savedSearchId":"Papers-ordered-by-year","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[]}"}}}
{"_index":".kibi","_type":"visualization","_id":"Assay-list","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"kibi-data-table\",\"params\":{\"clickOptions\":[],\"queryDefinitions\":[],\"columnAliases\":[\"Chembl ID\",\"Description\",\"Type Description\",\"Organism\",\"Strain\",\"Confidence Score\",\"Subcellular Fraction\"],\"columns\":[\"chembl_id\",\"description\",\"assay_desc\",\"assay_organism\",\"assay_strain\",\"confidence_score\",\"assay_subcellular_fraction\"],\"sort\":[\"_score\",\"desc\"],\"enableColumnAliases\":true},\"aggs\":[],\"listeners\":{},\"version\":2}","description":"","title":"Assay list","uiStateJSON":"{}","version":1,"savedSearchId":"Assay-list","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[]}"}}}
{"_index":".kibi","_type":"search","_id":"Assay-list","_score":1,"_source":{"sort":["_score","desc"],"hits":0,"description":"","title":"Assay list","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-assays\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[],\"highlight\":{\"pre_tags\":[\"@kibana-highlighted-field@\"],\"post_tags\":[\"@/kibana-highlighted-field@\"],\"fields\":{\"*\":{}},\"require_field_match\":false,\"fragment_size\":2147483647}}"},"columns":["chembl_id","description","assay_desc","assay_organism","assay_strain","confidence_score","assay_subcellular_fraction"]}}
{"_index":".kibi","_type":"visualization","_id":"Target-organism-bubble-diagram","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"kibi_bubble_diagram_vis\",\"params\":{\"showMetricsAtAllLevels\":false,\"addLegend\":true,\"enableZoom\":true,\"showParents\":true},\"aggs\":[{\"id\":\"1\",\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"organism\",\"size\":20,\"order\":\"desc\",\"orderBy\":\"1\"}}],\"listeners\":{}}","description":"","title":"Target organism bubble diagram","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-target\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"dashboardgroup","_id":"Molecules","_score":1,"_source":{"hide":false,"description":"","title":"Molecules","dashboards":"[{\"id\":\"Molecules\",\"title\":\"Papers\"}]","priority":100,"iconUrl":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"iconCss":""}}
{"_index":".kibi","_type":"search","_id":"Molecule-list","_score":1,"_source":{"sort":["description","asc"],"hits":0,"description":"","title":"Molecule list","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-molecules\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[],\"highlight\":{\"pre_tags\":[\"@kibana-highlighted-field@\"],\"post_tags\":[\"@/kibana-highlighted-field@\"],\"fields\":{\"*\":{}},\"require_field_match\":false,\"fragment_size\":2147483647}}"},"columns":["pref_name","chembl_id","description","indication_class","max_phase_for_ind","molecular_species","molecule_type","num_ro5_violations","structure_type","efo_term","full_molformula","full_mwt"]}}
{"_index":".kibi","_type":"visualization","_id":"Compound-list","_score":1,"_source":{"visState":"{\"title\":\"Compound list\",\"type\":\"kibi-data-table\",\"params\":{\"clickOptions\":[],\"queryDefinitions\":[],\"columnAliases\":[\"Name\",\"Smiles\",\"Molecular Formula\",\"MWT\",\"Molecular Species\"],\"columns\":[\"compound_name\",\"canonical_smiles\",\"full_molformula\",\"full_mwt\",\"molecular_species\"],\"enableColumnAliases\":true},\"aggs\":[],\"listeners\":{},\"version\":2}","description":"","title":"Compound list","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-compounds\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"config","_id":"4.6.4","_score":1,"_source":{"kibi:relationalPanel":true,"kibi:relations":"{\"relationsIndices\":[{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-papers\",\"path\":\"doc_id\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-assays\",\"path\":\"doc_id\"}],\"label\":\"described\",\"id\":\"chembl-assays//doc_id/chembl-papers//doc_id\"},{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-assays\",\"path\":\"tid\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-target\",\"path\":\"tid\"}],\"label\":\"target\",\"id\":\"chembl-assays//tid/chembl-target//tid\"},{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-molecules\",\"path\":\"compound_doc_id\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-papers\",\"path\":\"doc_id\"}],\"label\":\"described\",\"id\":\"chembl-molecules//compound_doc_id/chembl-papers//doc_id\"},{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-activities\",\"path\":\"activity_id\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-assays\",\"path\":\"assay_id\"}],\"label\":\"measured\",\"id\":\"chembl-activities//activity_id/chembl-assays//assay_id\"},{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-activities\",\"path\":\"doc_id\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-papers\",\"path\":\"doc_id\"}],\"label\":\"described\",\"id\":\"chembl-activities//doc_id/chembl-papers//doc_id\"},{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-molecules\",\"path\":\"molregno\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-activities\",\"path\":\"molregno\"}],\"label\":\"measured\",\"id\":\"chembl-activities//molregno/chembl-molecules//molregno\"}],\"relationsDashboards\":[{\"dashboards\":[\"Assays\",\"Papers\"],\"relation\":\"chembl-assays//doc_id/chembl-papers//doc_id\"},{\"dashboards\":[\"Papers\",\"Activities\"],\"relation\":\"chembl-activities//doc_id/chembl-papers//doc_id\"},{\"dashboards\":[\"Papers\",\"Molecules\"],\"relation\":\"chembl-molecules//compound_doc_id/chembl-papers//doc_id\"},{\"dashboards\":[\"Targets\",\"Assays\"],\"relation\":\"chembl-assays//tid/chembl-target//tid\"},{\"dashboards\":[\"Molecules\",\"Activities\"],\"relation\":\"chembl-activities//molregno/chembl-molecules//molregno\"},{\"dashboards\":[\"Activities\",\"Assays\"],\"relation\":\"chembl-activities//activity_id/chembl-assays//assay_id\"}],\"version\":2,\"relationsIndicesSerialized\":{\"options\":{\"autostart\":true,\"baseURL\":\"\",\"debug\":false,\"draggable\":true,\"colors\":{\"chembl-molecules\":\"#bfaf40\",\"chembl-assays\":\"#6f87d8\",\"eegid-chembl-molecules\":\"#4050bf\",\"eegid-chembl-assays\":\"#bc52bc\",\"chembl-papers\":\"#9e3533\",\"eegid-chembl-papers\":\"#663db8\",\"eegid-Assays\":\"#006e8a\",\"eegid-Papers\":\"#6f87d8\",\"chembl-target\":\"#9e3533\",\"eegid-chembl-target\":\"#daa05d\",\"chembl-activities\":\"#bf5040\",\"eegid-chembl-activities\":\"#40afbf\"},\"fontSize\":10,\"minNodeSize\":15,\"maxNodeSize\":30,\"minLinkSize\":0.8,\"maxLinkSize\":3,\"nodeR\":10,\"title\":null,\"showLegend\":false,\"forceGravity\":0.01,\"forceDistance\":200,\"monitorContainerSize\":true,\"linkColor\":\"#dedede\",\"linkHoverColor\":\"#444\",\"linkSize\":1,\"alwaysShowLinksLabels\":true,\"groupingForce\":{},\"nodeIcons\":{},\"wrapForeignObjectHtmlInBodyTag\":false,\"layersOrder\":[\"legend\",\"links\",\"linksLabelsBack\",\"nodes\",\"linksLabels\"],\"showContextMenu\":false},\"nodes\":[{\"id\":\"eegid-chembl-papers\",\"label\":\"chembl-papers\",\"nodeType\":\"chembl-papers\",\"size\":10,\"index\":0,\"weight\":3,\"x\":410.7078551500103,\"y\":28.079208147984517,\"px\":410.7078551500103,\"py\":28.079208147984517,\"fixed\":1},{\"id\":\"eegid-chembl-assays\",\"label\":\"chembl-assays\",\"nodeType\":\"chembl-assays\",\"size\":10,\"index\":1,\"weight\":3,\"x\":373.8178369133007,\"y\":141.47699275756625,\"px\":373.8178369133007,\"py\":141.47699275756625,\"fixed\":1},{\"id\":\"eegid-chembl-target\",\"label\":\"chembl-target\",\"nodeType\":\"chembl-target\",\"size\":10,\"index\":2,\"weight\":1,\"x\":295,\"y\":200.7053322011114,\"px\":295,\"py\":200.7053322011114,\"fixed\":1},{\"id\":\"eegid-chembl-molecules\",\"label\":\"chembl-molecules\",\"nodeType\":\"chembl-molecules\",\"size\":10,\"index\":3,\"weight\":2,\"x\":178.6573947668873,\"y\":18.572008130587093,\"px\":178.6573947668873,\"py\":18.572008130587093,\"fixed\":1},{\"id\":\"eegid-chembl-activities\",\"label\":\"chembl-activities\",\"nodeType\":\"chembl-activities\",\"size\":10,\"index\":4,\"weight\":3,\"x\":265.06239380273337,\"y\":81.34583793864363,\"px\":265.06239380273337,\"py\":81.34583793864363,\"fixed\":1}],\"links\":[{\"source\":\"eegid-chembl-papers\",\"target\":\"eegid-chembl-assays\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-papers-eegid-chembl-assays-described-0\",\"data\":{}},{\"source\":\"eegid-chembl-assays\",\"target\":\"eegid-chembl-target\",\"linkType\":\"target\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-assays-eegid-chembl-target-target-0\",\"data\":{}},{\"source\":\"eegid-chembl-molecules\",\"target\":\"eegid-chembl-papers\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-molecules-eegid-chembl-papers-described-0\",\"data\":{}},{\"source\":\"eegid-chembl-activities\",\"target\":\"eegid-chembl-assays\",\"linkType\":\"measured\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-activities-eegid-chembl-assays-measured-0\",\"data\":{}},{\"source\":\"eegid-chembl-activities\",\"target\":\"eegid-chembl-papers\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-activities-eegid-chembl-papers-described-0\",\"data\":{}},{\"source\":\"eegid-chembl-molecules\",\"target\":\"eegid-chembl-activities\",\"linkType\":\"measured\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-molecules-eegid-chembl-activities-measured-0\",\"data\":{}}]},\"relationsDashboardsSerialized\":{\"options\":{\"autostart\":true,\"baseURL\":\"\",\"debug\":false,\"draggable\":true,\"colors\":{\"chembl-molecules\":\"#bfaf40\",\"chembl-assays\":\"#6f87d8\",\"eegid-chembl-molecules\":\"#4050bf\",\"eegid-chembl-assays\":\"#bc52bc\",\"chembl-papers\":\"#9e3533\",\"eegid-chembl-papers\":\"#663db8\",\"Assays\":\"#70bf40\",\"Papers\":\"#8f40bf\",\"eegid-Assays\":\"#006e8a\",\"eegid-Papers\":\"#6f87d8\",\"chembl-target\":\"#9e3533\",\"eegid-chembl-target\":\"#daa05d\",\"chembl-activities\":\"#bf5040\",\"eegid-chembl-activities\":\"#40afbf\",\"Activities\":\"#70bf40\",\"eegid-Activities\":\"#8f40bf\",\"Molecules\":\"#bf40a7\",\"eegid-Molecules\":\"#40bf58\",\"Targets\":\"#bf9740\",\"eegid-Targets\":\"#4068bf\"},\"fontSize\":10,\"minNodeSize\":15,\"maxNodeSize\":30,\"minLinkSize\":0.8,\"maxLinkSize\":3,\"nodeR\":10,\"title\":null,\"showLegend\":true,\"forceGravity\":0.01,\"forceDistance\":200,\"monitorContainerSize\":true,\"linkColor\":\"#dedede\",\"linkHoverColor\":\"#444\",\"linkSize\":1,\"alwaysShowLinksLabels\":true,\"groupingForce\":{},\"nodeIcons\":{},\"wrapForeignObjectHtmlInBodyTag\":false,\"layersOrder\":[\"legend\",\"links\",\"linksLabelsBack\",\"nodes\",\"linksLabels\"],\"showContextMenu\":false},\"nodes\":[{\"id\":\"eegid-Assays\",\"label\":\"Assays\",\"nodeType\":\"chembl-assays\",\"size\":10,\"index\":0,\"weight\":3,\"x\":248.5441752710222,\"y\":178.79632484744567,\"px\":248.5441752710222,\"py\":178.79632484744567,\"fixed\":1},{\"id\":\"eegid-Papers\",\"label\":\"Papers\",\"nodeType\":\"chembl-papers\",\"size\":10,\"index\":1,\"weight\":3,\"x\":297.3619480067745,\"y\":40.34059751635357,\"px\":297.3619480067745,\"py\":40.34059751635357,\"fixed\":1},{\"id\":\"eegid-Activities\",\"label\":\"Activities\",\"nodeType\":\"chembl-activities\",\"size\":10,\"index\":2,\"weight\":3,\"x\":182.89611701494232,\"y\":103.65310321328639,\"px\":182.89611701494232,\"py\":103.65310321328639,\"fixed\":1},{\"id\":\"eegid-Molecules\",\"label\":\"Molecules\",\"nodeType\":\"chembl-molecules\",\"size\":10,\"index\":3,\"weight\":2,\"x\":64.51699335500524,\"y\":34.13039020198585,\"px\":64.51699335500524,\"py\":34.13039020198585,\"fixed\":1},{\"id\":\"eegid-Targets\",\"label\":\"Targets\",\"nodeType\":\"chembl-target\",\"size\":10,\"index\":4,\"weight\":1,\"x\":121.49833738788627,\"y\":211.52015968000813,\"px\":121.49833738788627,\"py\":211.52015968000813,\"fixed\":1}],\"links\":[{\"source\":\"eegid-Assays\",\"target\":\"eegid-Papers\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Assays-eegid-Papers-described-0\",\"data\":{\"relation\":\"chembl-assays//doc_id/chembl-papers//doc_id\",\"dashboards\":[\"Assays\",\"Papers\"]}},{\"source\":\"eegid-Papers\",\"target\":\"eegid-Activities\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Papers-eegid-Activities-described-0\",\"data\":{\"relation\":\"chembl-activities//doc_id/chembl-papers//doc_id\",\"dashboards\":[\"Papers\",\"Activities\"]}},{\"source\":\"eegid-Papers\",\"target\":\"eegid-Molecules\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Papers-eegid-Molecules-described-0\",\"data\":{\"relation\":\"chembl-molecules//compound_doc_id/chembl-papers//doc_id\",\"dashboards\":[\"Papers\",\"Molecules\"]}},{\"source\":\"eegid-Targets\",\"target\":\"eegid-Assays\",\"linkType\":\"target\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Targets-eegid-Assays-target-0\",\"data\":{\"relation\":\"chembl-assays//tid/chembl-target//tid\",\"dashboards\":[\"Targets\",\"Assays\"]}},{\"source\":\"eegid-Molecules\",\"target\":\"eegid-Activities\",\"linkType\":\"measured\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Molecules-eegid-Activities-measured-0\",\"data\":{\"relation\":\"chembl-activities//molregno/chembl-molecules//molregno\",\"dashboards\":[\"Molecules\",\"Activities\"]}},{\"source\":\"eegid-Activities\",\"target\":\"eegid-Assays\",\"linkType\":\"measured\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Activities-eegid-Assays-measured-0\",\"data\":{\"relation\":\"chembl-activities//activity_id/chembl-assays//assay_id\",\"dashboards\":[\"Activities\",\"Assays\"]}}]}}","defaultIndex":"chembl-activities"}}
{"_index":".kibi","_type":"visualization","_id":"Relations","_score":1,"_source":{"visState":"{\"title\":\"Relations\",\"type\":\"kibi_sequential_join_vis\",\"params\":{\"buttons\":[{\"indexRelationId\":\"chembl-assays//doc_id/chembl-papers//doc_id\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Papers\",\"label\":\"Described in\"},{\"indexRelationId\":\"chembl-assays//doc_id/chembl-papers//doc_id\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Assays\",\"label\":\"Assays described\"},{\"label\":\"Described in\",\"indexRelationId\":\"chembl-molecules//compound_doc_id/chembl-papers//doc_id\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Papers\"},{\"indexRelationId\":\"chembl-molecules//compound_doc_id/chembl-papers//doc_id\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Molecules\",\"label\":\"Molecules Described\"},{\"indexRelationId\":\"chembl-activities//doc_id/chembl-papers//doc_id\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Papers\",\"label\":\"Described in\"},{\"label\":\"Activities described\",\"indexRelationId\":\"chembl-activities//doc_id/chembl-papers//doc_id\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Activities\"},{\"indexRelationId\":\"chembl-assays//tid/chembl-target//tid\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Assays\",\"label\":\"Assay in\"},{\"label\":\"Target in\",\"indexRelationId\":\"chembl-assays//tid/chembl-target//tid\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Targets\"},{\"indexRelationId\":\"chembl-activities//molregno/chembl-molecules//molregno\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Activities\",\"label\":\"Activities\"},{\"indexRelationId\":\"chembl-activities//molregno/chembl-molecules//molregno\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Molecules\",\"label\":\"Molecules\"},{\"indexRelationId\":\"chembl-activities//activity_id/chembl-assays//assay_id\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Activities\",\"label\":\"Activities\"},{\"label\":\"Assays\",\"indexRelationId\":\"chembl-activities//activity_id/chembl-assays//assay_id\",\"sourceDashboardId\":\"\",\"targetDashboardId\":\"Assays\"}]},\"aggs\":[],\"listeners\":{},\"version\":2}","description":"","title":"Relations","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"script","_id":"Replace-Investment-with-edge.-(works-only-with-Kibi-Demo-data)","_score":1,"_source":{"version":2,"type":"contextual","description":"Replace all the investment nodes with an edge. (works only with Kibi Demo data)","scriptSource":"/*\n * Replace Investment with edge. (works only with Kibi Demo data)\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"beforeAll\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction beforeAll(graphId, graphModel, graphSelection) {\n  let clonedModel = JSON.parse(JSON.stringify(graphModel));\n  let newNodes = [];\n  let newLinks = [];\n  let removeLinks = new Set();\n  let selection = [];\n  _.each(graphModel.nodes, function (node) {\n    if (node.type === 'Investment') {\n      let linkPair = {in:null, out:null};\n      _.each(graphModel.relations, function (relation) {\n        if (relation.out === node.id) {\n          if (linkPair.in) {\n            linkPair.out = relation.in;\n          } else {\n            linkPair.in = relation.in;\n          }\n          removeLinks.add(relation.id);\n        }\n        if (relation.in === node.id) {\n          if (linkPair.out) {\n            linkPair.in = relation.out;\n          } else {\n            linkPair.out = relation.out;\n          }\n          removeLinks.add(relation.id);\n        }\n      });\n      let weight = 2;\n      let raised = node.payload.raised_amount;\n      if (raised > 0) {\n        weight = (3 * Math.log(raised)) - 38;\n        if (weight < 1) {\n          weight = 1;\n        }\n      }\n\n      // Ensure we have both nodes to create the virtual relation\n      if (linkPair.in && linkPair.out) {\n        // null, in, out, both\n        let direction;\n        let inNode = _.find(graphModel.nodes, function (o) { return o.id === linkPair.in});\n        if (inNode.type === 'Company') {\n          direction = 'in';\n        } else {\n          direction = 'out';\n        }\n        newLinks.push(createScriptedLink(linkPair, weight, raised, node, direction));\n      }\n    } else {\n      newNodes.push(node);\n    }\n  });\n\n  _.each(graphModel.relations, function (relation) {\n    if (!removeLinks.has(relation.id)) {\n      newLinks.push(relation);\n    }\n  });\n\n  clonedModel.nodes = newNodes;\n  clonedModel.relations = newLinks;\n\n  return Promise.resolve({\n    model: clonedModel,\n    selection: selection,\n    relayout: true\n  });\n}\n\nfunction createScriptedLink(linkPair, weight, raised, node, direction) {\n  return {\n    id: hashCode(linkPair.in + linkPair.out + node.id),\n    label: 'invested: ' + (raised ? raised : 'n/a'),\n    direction: direction,\n    size: weight,\n    color: 'rgb(119,165,255)',\n    in: linkPair.in,\n    out: linkPair.out\n  };\n}\n\nfunction hashCode(s){\n  return 'SCRIPTED_EDGE-'+ s.split('').reduce(function(a,b){a=((a<<5)-a)+b.charCodeAt(0);return a&a},0);\n}","title":"Replace Investment with edge. (works only with Kibi Demo data)"}}
{"_index":".kibi","_type":"script","_id":"Shortest-Path","_score":1,"_source":{"version":2,"type":"contextual","description":"Tries to find the shortest path between two nodes.","scriptSource":"/*\n * Shortest-Path\n *\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"beforeAll\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction beforeAll(graphId, graphModel, graphSelection) {\n  if (graphSelection.length === 2) {\n    let dd = '<select ng-options=\"i as i for i in [2,3,4]\" ng-model=\"maxSize\">';\n    dd = dd + '<option style=\"display:none\" value=\"\">select a number</option>';\n    dd = dd + '</select>';\n\n    f.openModal(graphId, 'Pick the max path length', dd);\n  } else {\n    alert('Warning: This script only works with 2 selected nodes');\n  }\n\n  return Promise.resolve(null);\n}\n\nfunction onModalOk(scope, graphModel) {\n  return scope.maxSize;\n}\n\nfunction afterModalClosed(graphId, graphModel, graphSelection, onOkModalResult) {\n  i = 1;\n  return iterateQuery(graphId, i, graphSelection, onOkModalResult);\n}\n\nfunction iterateQuery(graphId, i, graphSelection, maxIteration) {\n  if (i <= maxIteration) {\n    let query = 'g.V(\"$1\").repeat(both().simplePath()).times(' + i + ').path()';\n\n    return f.executeGremlinQuery(graphId, query, graphSelection[0]).then(function (results) {\n      let shortestPath;\n      for (let i=0; i<results.length; i++) {\n        let path = results[i];\n        if (path.objects[path.objects.length-1].id === graphSelection[1]) {\n          shortestPath = path;\n          break;\n        }\n      }\n\n      if (shortestPath) {\n        f.addResultsToGraph(graphId, graphSelection, shortestPath);\n      } else {\n        i++;\n        return iterateQuery(graphId, i, graphSelection, maxIteration);\n      }\n    });\n  } else {\n    return Promise.resolve();\n  }\n}","title":"Shortest Path"}}
{"_index":".kibi","_type":"script","_id":"Signal-Dead-Companies","_score":1,"_source":{"version":2,"type":"onGraphUpdate","description":"Turns the dead companies black and adds an upper left glyph","scriptSource":"/*\n * Signal Dead Companies\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"onGraphUpdate\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction onGraphUpdate(graphId, kibiGraphModel) {\n  _.each(kibiGraphModel.nodes, function (node) {\n    if (node.type === 'Company') {\n      if (node.payload && node.payload.deadpooled_date && node.payload.deadpooled_date !== 'Invalid date') {\n        node.glyphs =  [{position: 'nw', fontIcon: { iconName: 'fa-times', color: '#000' }}];\n        node.color = '#000';\n      }\n    }\n  });\n\n  return kibiGraphModel;\n}","title":"Signal Dead Companies"}}
{"_index":".kibi","_type":"dashboard","_id":"Molecules","_score":1,"_source":{"title":"Molecules","hits":0,"description":"","panelsJSON":"[{\"id\":\"molecule-list\",\"type\":\"visualization\",\"panelIndex\":3,\"size_x\":12,\"size_y\":5,\"col\":1,\"row\":3},{\"id\":\"Molecule-to-Structure\",\"type\":\"visualization\",\"panelIndex\":2,\"size_x\":5,\"size_y\":6,\"col\":1,\"row\":8},{\"id\":\"Max-Phase-for-Indication\",\"type\":\"visualization\",\"panelIndex\":4,\"size_x\":4,\"size_y\":4,\"col\":6,\"row\":8},{\"id\":\"Relations\",\"type\":\"visualization\",\"panelIndex\":5,\"size_x\":6,\"size_y\":2,\"col\":7,\"row\":1},{\"size_x\":6,\"size_y\":2,\"panelIndex\":6,\"type\":\"visualization\",\"id\":\"d06811d0-f4a2-11e7-a8cb-bb54c97ba847\",\"col\":1,\"row\":1}]","optionsJSON":"{\"darkTheme\":false,\"hideBorders\":false}","uiStateJSON":"{\"P-4\":{\"vis\":{\"legendOpen\":true}},\"P-2\":{\"vis\":{\"defaultColors\":{\"0 - 67\":\"rgb(247,252,245)\",\"67 - 134\":\"rgb(219,241,214)\",\"134 - 200\":\"rgb(174,222,167)\",\"200 - 267\":\"rgb(116,196,118)\",\"267 - 334\":\"rgb(55,160,85)\",\"334 - 400\":\"rgb(12,119,52)\"}}}}","version":1,"timeRestore":false,"savedSearchId":"Molecule-list","priority":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[{\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}}}],\"highlightAll\":true,\"version\":true}"}}}
{"_index":".kibi","_type":"index-pattern","_id":"chembl-assays","_score":1,"_source":{"title":"chembl-assays","fields":"[{\"name\":\"_id\",\"esType\":\"_id\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_index\",\"esType\":\"_index\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_score\",\"esType\":\"text\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_source\",\"esType\":\"_source\",\"type\":\"_source\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_type\",\"esType\":\"_type\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"assay_category\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"assay_desc\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"assay_id\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"assay_organism\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"assay_strain\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"assay_subcellular_fraction\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"assay_test_type\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"assay_tissue\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"assay_type\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"chembl_id\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"confidence_score\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"description\",\"esType\":\"text\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"doc_id\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"relationship_desc\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"relationship_type\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"tid\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true}]","paths":"{\"assay_category\":[\"assay_category\"],\"assay_desc\":[\"assay_desc\"],\"assay_id\":[\"assay_id\"],\"assay_organism\":[\"assay_organism\"],\"assay_strain\":[\"assay_strain\"],\"assay_subcellular_fraction\":[\"assay_subcellular_fraction\"],\"assay_test_type\":[\"assay_test_type\"],\"assay_tissue\":[\"assay_tissue\"],\"assay_type\":[\"assay_type\"],\"chembl_id\":[\"chembl_id\"],\"confidence_score\":[\"confidence_score\"],\"description\":[\"description\"],\"doc_id\":[\"doc_id\"],\"relationship_desc\":[\"relationship_desc\"],\"relationship_type\":[\"relationship_type\"],\"tid\":[\"tid\"]}","fieldFormatMap":"{\"chembl_id\":{\"id\":\"url\",\"params\":{\"urlTemplate\":\"https://www.ebi.ac.uk/chembl/assay/inspect/{{value}}\",\"labelTemplate\":\"{{value}}\"}}}"}}
{"_index":".kibi","_type":"script","_id":"Select-All","_score":1,"_source":{"version":2,"type":"contextual","description":"Selects all the nodes.","scriptSource":"/*\n * Select All\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"beforeAll\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction beforeAll (graphId, graphModel, graphSelection) {\n  const selection = _.map(graphModel.nodes, 'id');\n\n  return Promise.resolve({ selection: selection});\n}","title":"Select - All"}}
{"_index":".kibi","_type":"visualization","_id":"Molecule-to-Structure","_score":1,"_source":{"visState":"{\"title\":\"Molecule to Structure\",\"type\":\"heatmap\",\"params\":{\"addTooltip\":true,\"addLegend\":true,\"enableHover\":false,\"legendPosition\":\"right\",\"times\":[],\"colorsNumber\":6,\"colorSchema\":\"Greens\",\"setColorRange\":false,\"colorsRange\":[],\"invertColors\":false,\"percentageMode\":false,\"valueAxes\":[{\"show\":false,\"id\":\"ValueAxis-1\",\"type\":\"value\",\"scale\":{\"type\":\"linear\",\"defaultYExtents\":false},\"labels\":{\"show\":false,\"rotate\":0,\"color\":\"#555\"}}]},\"aggs\":[{\"id\":\"1\",\"type\":\"count\",\"schema\":\"metric\",\"params\":{},\"enabled\":true},{\"id\":\"2\",\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"molecule_type\",\"size\":5,\"order\":\"desc\",\"orderBy\":\"1\"},\"enabled\":true},{\"id\":\"3\",\"type\":\"terms\",\"schema\":\"group\",\"params\":{\"field\":\"indication_class\",\"size\":5,\"order\":\"desc\",\"orderBy\":\"1\"},\"enabled\":true}],\"listeners\":{}}","description":"","title":"Molecule to Indication","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\n  \"index\": \"chembl-molecules\",\n  \"query\": {\n    \"query_string\": {\n      \"query\": \"*\",\n      \"analyze_wildcard\": true\n    }\n  },\n  \"filter\": []\n}"}}}
{"_index":".kibi","_type":"visualization","_id":"d06811d0-f4a2-11e7-a8cb-bb54c97ba847","_score":1,"_source":{"title":"Chem Search","visState":"{\"title\":\"Chem Search\",\"type\":\"chem_search\",\"params\":{\"type\":\"chem_search\",\"field\":\"fingerprint_all\"},\"aggs\":[],\"listeners\":{},\"kibiSettings\":{}}","uiStateJSON":"{}","description":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"match_all\":{}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"url","_id":"0dc2b0b448bbff1ba8f06715dce60530","_score":1,"_source":{"url":"/app/kibana#/visualize/edit/Abstract-word-cloud","accessCount":0,"createDate":"2018-01-15T10:50:04.201Z","accessDate":"2018-01-15T10:50:04.201Z","sirenSession":{}}}
{"_index":".kibi","_type":"visualization","_id":"Abstract-word-cloud","_score":1,"_source":{"title":"Abstract word cloud","visState":"{\"title\":\"Abstract word cloud\",\"type\":\"tagcloud\",\"params\":{\"scale\":\"linear\",\"orientation\":\"single\",\"minFontSize\":18,\"maxFontSize\":72,\"type\":\"tagcloud\"},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"abstract\",\"exclude\":\"1|2|3|4|5|6|7|8|9|0|.{1}\",\"size\":50,\"order\":\"desc\",\"orderBy\":\"1\"}}],\"listeners\":{},\"kibiSettings\":{}}","uiStateJSON":"{}","description":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[],\"index\":\"chembl-papers\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"highlight\":{\"pre_tags\":[\"@kibana-highlighted-field@\"],\"post_tags\":[\"@/kibana-highlighted-field@\"],\"fields\":{\"*\":{}},\"require_field_match\":false,\"fragment_size\":2147483647}}"}}}
{"_index":".kibi","_type":"search","_id":"Papers-ordered-by-year","_score":1,"_source":{"sort":["year","desc"],"hits":0,"description":"","title":"Papers ordered by year","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-papers\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[],\"highlight\":{\"pre_tags\":[\"@kibana-highlighted-field@\"],\"post_tags\":[\"@/kibana-highlighted-field@\"],\"fields\":{\"*\":{}},\"require_field_match\":false,\"fragment_size\":2147483647}}"},"columns":["title","abstract","authors","pubmed_id","doc_id","doi","journal","year"]}}
{"_index":".kibi","_type":"dashboardgroup","_id":"Activities","_score":1,"_source":{"hide":false,"description":"","title":"Activities","dashboards":"[{\"id\":\"Activities\",\"title\":\"Papers\"}]","priority":100,"iconUrl":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{}"},"iconCss":""}}
{"_index":".kibi","_type":"index-pattern","_id":"chembl-compounds","_score":1,"_source":{"paths":"{\"acd_logd\":[\"acd_logd\"],\"acd_logp\":[\"acd_logp\"],\"acd_most_apka\":[\"acd_most_apka\"],\"acd_most_bpka\":[\"acd_most_bpka\"],\"alogp\":[\"alogp\"],\"aromatic_rings\":[\"aromatic_rings\"],\"canonical_smiles\":[\"canonical_smiles\"],\"compound_key\":[\"compound_key\"],\"compound_name\":[\"compound_name\"],\"doc_id\":[\"doc_id\"],\"full_molformula\":[\"full_molformula\"],\"full_mwt\":[\"full_mwt\"],\"hba\":[\"hba\"],\"hba_lipinski\":[\"hba_lipinski\"],\"hbd\":[\"hbd\"],\"hbd_lipinski\":[\"hbd_lipinski\"],\"heavy_atoms\":[\"heavy_atoms\"],\"molecular_species\":[\"molecular_species\"],\"molregno\":[\"molregno\"],\"mw_freebase\":[\"mw_freebase\"],\"mw_monoisotopic\":[\"mw_monoisotopic\"],\"num_alerts\":[\"num_alerts\"],\"num_lipinski_ro5_violations\":[\"num_lipinski_ro5_violations\"],\"num_ro5_violations\":[\"num_ro5_violations\"],\"psa\":[\"psa\"],\"qed_weighted\":[\"qed_weighted\"],\"record_id\":[\"record_id\"],\"ro3_pass\":[\"ro3_pass\"],\"rtb\":[\"rtb\"],\"src_description\":[\"src_description\"],\"src_id\":[\"src_id\"],\"src_short_name\":[\"src_short_name\"]}","title":"chembl-compounds","fields":"[{\"name\":\"src_description\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"full_mwt\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"num_lipinski_ro5_violations\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"_index\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"indexed\":false,\"analyzed\":false,\"doc_values\":false},{\"name\":\"alogp\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"hba_lipinski\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"molecular_species\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"mw_freebase\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"acd_logd\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"num_ro5_violations\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"ro3_pass\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"compound_name\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"mw_monoisotopic\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"hbd_lipinski\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"compound_key\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"heavy_atoms\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"acd_most_bpka\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"rtb\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"qed_weighted\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"full_molformula\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"acd_logp\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"src_id\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"hba\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"hbd\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"canonical_smiles\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"doc_id\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"record_id\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"src_short_name\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"aromatic_rings\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"acd_most_apka\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"_source\",\"type\":\"_source\",\"count\":0,\"scripted\":false,\"indexed\":false,\"analyzed\":false,\"doc_values\":false},{\"name\":\"num_alerts\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"molregno\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"psa\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":true,\"analyzed\":false,\"doc_values\":true},{\"name\":\"_id\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"indexed\":false,\"analyzed\":false,\"doc_values\":false},{\"name\":\"_type\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"indexed\":false,\"analyzed\":false,\"doc_values\":false},{\"name\":\"_score\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"indexed\":false,\"analyzed\":false,\"doc_values\":false}]"}}
{"_index":".kibi","_type":"visualization","_id":"Molecules-list","_score":1,"_source":{"visState":"{\"title\":\"Molecules list\",\"type\":\"kibi-data-table\",\"params\":{\"clickOptions\":[],\"queryDefinitions\":[],\"columnAliases\":[\"ID\",\"Molecule\",\"Molecule Type\",\"Name\",\"Strucutre Type\",\"Synonyms\",\"Year\",\"Indication Class\",\"Inorganic\",\"Polymer\",\"Therapeutic\",\"Chirality\",\"Availablility Type\"],\"columns\":[\"_id\",\"chembl_id\",\"molecule_type\",\"pref_name\",\"structure_type\",\"synonyms\",\"usan_year\",\"indication_class\",\"inorganic_flag\",\"polymer_flag\",\"therapeutic_flag\",\"chirality\",\"availability_type\"],\"sort\":[\"therapeutic_flag\",\"desc\"],\"enableColumnAliases\":true},\"aggs\":[],\"listeners\":{},\"version\":2}","description":"","title":"Molecules list","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[],\"index\":\"chembl-molecules\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"highlight\":{\"pre_tags\":[\"@kibana-highlighted-field@\"],\"post_tags\":[\"@/kibana-highlighted-field@\"],\"fields\":{\"*\":{}},\"require_field_match\":false,\"fragment_size\":2147483647}}"}}}
{"_index":".kibi","_type":"visualization","_id":"Assay-Type,-Tissue-and-Score","_score":1,"_source":{"visState":"{\"title\":\"New Visualization\",\"type\":\"histogram\",\"params\":{\"shareYAxis\":true,\"addTooltip\":true,\"addLegend\":true,\"scale\":\"linear\",\"mode\":\"percentage\",\"times\":[],\"addTimeMarker\":false,\"defaultYExtents\":false,\"setYExtents\":false,\"yAxis\":{}},\"aggs\":[{\"id\":\"1\",\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"assay_tissue\",\"size\":15,\"order\":\"desc\",\"orderBy\":\"1\",\"customLabel\":\"Tissue\"}},{\"id\":\"3\",\"type\":\"terms\",\"schema\":\"group\",\"params\":{\"field\":\"confidence_score\",\"size\":10,\"order\":\"desc\",\"orderBy\":\"_term\",\"customLabel\":\"Confidence Score\"}},{\"id\":\"4\",\"type\":\"terms\",\"schema\":\"split\",\"params\":{\"field\":\"assay_type\",\"size\":5,\"order\":\"desc\",\"orderBy\":\"1\",\"customLabel\":\"Type\",\"row\":true}}],\"listeners\":{}}","description":"","title":"Assay Type, Tissue and Score","uiStateJSON":"{}","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-assays\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"dashboard","_id":"Activities","_score":1,"_source":{"hits":0,"timeRestore":false,"description":"","title":"Activities","uiStateJSON":"{}","panelsJSON":"[{\"id\":\"Activities-list\",\"type\":\"visualization\",\"panelIndex\":1,\"size_x\":10,\"size_y\":5,\"col\":1,\"row\":1},{\"id\":\"Activity-value-boxplot\",\"type\":\"visualization\",\"panelIndex\":2,\"size_x\":8,\"size_y\":5,\"col\":1,\"row\":6},{\"id\":\"Relations\",\"type\":\"visualization\",\"panelIndex\":3,\"size_x\":2,\"size_y\":2,\"col\":11,\"row\":1}]","priority":0,"optionsJSON":"{\"darkTheme\":false}","version":1,"savedSearchId":"Actiivities-list","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[{\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}}}]}"}}}
{"_index":".kibi","_type":"config","_id":"kibi","_score":1,"_source":{"kibi:relationalPanel":true,"kibi:relations":"{\"relationsIndices\":[{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-papers\",\"path\":\"doc_id\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-assays\",\"path\":\"doc_id\"}],\"label\":\"described\",\"id\":\"chembl-assays//doc_id/chembl-papers//doc_id\"},{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-assays\",\"path\":\"tid\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-target\",\"path\":\"tid\"}],\"label\":\"target\",\"id\":\"chembl-assays//tid/chembl-target//tid\"},{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-molecules\",\"path\":\"compound_doc_id\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-papers\",\"path\":\"doc_id\"}],\"label\":\"described\",\"id\":\"chembl-molecules//compound_doc_id/chembl-papers//doc_id\"},{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-activities\",\"path\":\"activity_id\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-assays\",\"path\":\"assay_id\"}],\"label\":\"measured\",\"id\":\"chembl-activities//activity_id/chembl-assays//assay_id\"},{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-activities\",\"path\":\"doc_id\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-papers\",\"path\":\"doc_id\"}],\"label\":\"described\",\"id\":\"chembl-activities//doc_id/chembl-papers//doc_id\"},{\"indices\":[{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-molecules\",\"path\":\"molregno\"},{\"indexPatternType\":\"\",\"indexPatternId\":\"chembl-activities\",\"path\":\"molregno\"}],\"label\":\"measured\",\"id\":\"chembl-activities//molregno/chembl-molecules//molregno\"}],\"relationsDashboards\":[{\"dashboards\":[\"Assays\",\"Papers\"],\"relation\":\"chembl-assays//doc_id/chembl-papers//doc_id\"},{\"dashboards\":[\"Papers\",\"Activities\"],\"relation\":\"chembl-activities//doc_id/chembl-papers//doc_id\"},{\"dashboards\":[\"Papers\",\"Molecules\"],\"relation\":\"chembl-molecules//compound_doc_id/chembl-papers//doc_id\"},{\"dashboards\":[\"Targets\",\"Assays\"],\"relation\":\"chembl-assays//tid/chembl-target//tid\"},{\"dashboards\":[\"Molecules\",\"Activities\"],\"relation\":\"chembl-activities//molregno/chembl-molecules//molregno\"},{\"dashboards\":[\"Activities\",\"Assays\"],\"relation\":\"chembl-activities//activity_id/chembl-assays//assay_id\"}],\"version\":2,\"relationsIndicesSerialized\":{\"options\":{\"autostart\":true,\"baseURL\":\"\",\"debug\":false,\"draggable\":true,\"colors\":{\"chembl-molecules\":\"#bfaf40\",\"chembl-assays\":\"#6f87d8\",\"eegid-chembl-molecules\":\"#4050bf\",\"eegid-chembl-assays\":\"#bc52bc\",\"chembl-papers\":\"#9e3533\",\"eegid-chembl-papers\":\"#663db8\",\"eegid-Assays\":\"#006e8a\",\"eegid-Papers\":\"#6f87d8\",\"chembl-target\":\"#9e3533\",\"eegid-chembl-target\":\"#daa05d\",\"chembl-activities\":\"#bf5040\",\"eegid-chembl-activities\":\"#40afbf\"},\"fontSize\":10,\"minNodeSize\":15,\"maxNodeSize\":30,\"minLinkSize\":0.8,\"maxLinkSize\":3,\"nodeR\":10,\"title\":null,\"showLegend\":false,\"forceGravity\":0.01,\"forceDistance\":200,\"monitorContainerSize\":true,\"linkColor\":\"#dedede\",\"linkHoverColor\":\"#444\",\"linkSize\":1,\"alwaysShowLinksLabels\":true,\"groupingForce\":{},\"nodeIcons\":{},\"wrapForeignObjectHtmlInBodyTag\":false,\"layersOrder\":[\"legend\",\"links\",\"linksLabelsBack\",\"nodes\",\"linksLabels\"],\"showContextMenu\":false},\"nodes\":[{\"id\":\"eegid-chembl-papers\",\"label\":\"chembl-papers\",\"nodeType\":\"chembl-papers\",\"size\":10,\"index\":0,\"weight\":3,\"x\":410.7078551500103,\"y\":28.079208147984517,\"px\":410.7078551500103,\"py\":28.079208147984517,\"fixed\":1},{\"id\":\"eegid-chembl-assays\",\"label\":\"chembl-assays\",\"nodeType\":\"chembl-assays\",\"size\":10,\"index\":1,\"weight\":3,\"x\":373.8178369133007,\"y\":141.47699275756625,\"px\":373.8178369133007,\"py\":141.47699275756625,\"fixed\":1},{\"id\":\"eegid-chembl-target\",\"label\":\"chembl-target\",\"nodeType\":\"chembl-target\",\"size\":10,\"index\":2,\"weight\":1,\"x\":295,\"y\":200.7053322011114,\"px\":295,\"py\":200.7053322011114,\"fixed\":1},{\"id\":\"eegid-chembl-molecules\",\"label\":\"chembl-molecules\",\"nodeType\":\"chembl-molecules\",\"size\":10,\"index\":3,\"weight\":2,\"x\":178.6573947668873,\"y\":18.572008130587093,\"px\":178.6573947668873,\"py\":18.572008130587093,\"fixed\":1},{\"id\":\"eegid-chembl-activities\",\"label\":\"chembl-activities\",\"nodeType\":\"chembl-activities\",\"size\":10,\"index\":4,\"weight\":3,\"x\":265.06239380273337,\"y\":81.34583793864363,\"px\":265.06239380273337,\"py\":81.34583793864363,\"fixed\":1}],\"links\":[{\"source\":\"eegid-chembl-papers\",\"target\":\"eegid-chembl-assays\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-papers-eegid-chembl-assays-described-0\",\"data\":{}},{\"source\":\"eegid-chembl-assays\",\"target\":\"eegid-chembl-target\",\"linkType\":\"target\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-assays-eegid-chembl-target-target-0\",\"data\":{}},{\"source\":\"eegid-chembl-molecules\",\"target\":\"eegid-chembl-papers\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-molecules-eegid-chembl-papers-described-0\",\"data\":{}},{\"source\":\"eegid-chembl-activities\",\"target\":\"eegid-chembl-assays\",\"linkType\":\"measured\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-activities-eegid-chembl-assays-measured-0\",\"data\":{}},{\"source\":\"eegid-chembl-activities\",\"target\":\"eegid-chembl-papers\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-activities-eegid-chembl-papers-described-0\",\"data\":{}},{\"source\":\"eegid-chembl-molecules\",\"target\":\"eegid-chembl-activities\",\"linkType\":\"measured\",\"undirected\":true,\"size\":1,\"id\":\"eegid-chembl-molecules-eegid-chembl-activities-measured-0\",\"data\":{}}]},\"relationsDashboardsSerialized\":{\"options\":{\"autostart\":true,\"baseURL\":\"\",\"debug\":false,\"draggable\":true,\"colors\":{\"chembl-molecules\":\"#bfaf40\",\"chembl-assays\":\"#6f87d8\",\"eegid-chembl-molecules\":\"#4050bf\",\"eegid-chembl-assays\":\"#bc52bc\",\"chembl-papers\":\"#9e3533\",\"eegid-chembl-papers\":\"#663db8\",\"Assays\":\"#70bf40\",\"Papers\":\"#8f40bf\",\"eegid-Assays\":\"#006e8a\",\"eegid-Papers\":\"#6f87d8\",\"chembl-target\":\"#9e3533\",\"eegid-chembl-target\":\"#daa05d\",\"chembl-activities\":\"#bf5040\",\"eegid-chembl-activities\":\"#40afbf\",\"Activities\":\"#70bf40\",\"eegid-Activities\":\"#8f40bf\",\"Molecules\":\"#bf40a7\",\"eegid-Molecules\":\"#40bf58\",\"Targets\":\"#bf9740\",\"eegid-Targets\":\"#4068bf\"},\"fontSize\":10,\"minNodeSize\":15,\"maxNodeSize\":30,\"minLinkSize\":0.8,\"maxLinkSize\":3,\"nodeR\":10,\"title\":null,\"showLegend\":true,\"forceGravity\":0.01,\"forceDistance\":200,\"monitorContainerSize\":true,\"linkColor\":\"#dedede\",\"linkHoverColor\":\"#444\",\"linkSize\":1,\"alwaysShowLinksLabels\":true,\"groupingForce\":{},\"nodeIcons\":{},\"wrapForeignObjectHtmlInBodyTag\":false,\"layersOrder\":[\"legend\",\"links\",\"linksLabelsBack\",\"nodes\",\"linksLabels\"],\"showContextMenu\":false},\"nodes\":[{\"id\":\"eegid-Assays\",\"label\":\"Assays\",\"nodeType\":\"chembl-assays\",\"size\":10,\"index\":0,\"weight\":3,\"x\":248.5441752710222,\"y\":178.79632484744567,\"px\":248.5441752710222,\"py\":178.79632484744567,\"fixed\":1},{\"id\":\"eegid-Papers\",\"label\":\"Papers\",\"nodeType\":\"chembl-papers\",\"size\":10,\"index\":1,\"weight\":3,\"x\":297.3619480067745,\"y\":40.34059751635357,\"px\":297.3619480067745,\"py\":40.34059751635357,\"fixed\":1},{\"id\":\"eegid-Activities\",\"label\":\"Activities\",\"nodeType\":\"chembl-activities\",\"size\":10,\"index\":2,\"weight\":3,\"x\":182.89611701494232,\"y\":103.65310321328639,\"px\":182.89611701494232,\"py\":103.65310321328639,\"fixed\":1},{\"id\":\"eegid-Molecules\",\"label\":\"Molecules\",\"nodeType\":\"chembl-molecules\",\"size\":10,\"index\":3,\"weight\":2,\"x\":64.51699335500524,\"y\":34.13039020198585,\"px\":64.51699335500524,\"py\":34.13039020198585,\"fixed\":1},{\"id\":\"eegid-Targets\",\"label\":\"Targets\",\"nodeType\":\"chembl-target\",\"size\":10,\"index\":4,\"weight\":1,\"x\":121.49833738788627,\"y\":211.52015968000813,\"px\":121.49833738788627,\"py\":211.52015968000813,\"fixed\":1}],\"links\":[{\"source\":\"eegid-Assays\",\"target\":\"eegid-Papers\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Assays-eegid-Papers-described-0\",\"data\":{\"relation\":\"chembl-assays//doc_id/chembl-papers//doc_id\",\"dashboards\":[\"Assays\",\"Papers\"]}},{\"source\":\"eegid-Papers\",\"target\":\"eegid-Activities\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Papers-eegid-Activities-described-0\",\"data\":{\"relation\":\"chembl-activities//doc_id/chembl-papers//doc_id\",\"dashboards\":[\"Papers\",\"Activities\"]}},{\"source\":\"eegid-Papers\",\"target\":\"eegid-Molecules\",\"linkType\":\"described\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Papers-eegid-Molecules-described-0\",\"data\":{\"relation\":\"chembl-molecules//compound_doc_id/chembl-papers//doc_id\",\"dashboards\":[\"Papers\",\"Molecules\"]}},{\"source\":\"eegid-Targets\",\"target\":\"eegid-Assays\",\"linkType\":\"target\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Targets-eegid-Assays-target-0\",\"data\":{\"relation\":\"chembl-assays//tid/chembl-target//tid\",\"dashboards\":[\"Targets\",\"Assays\"]}},{\"source\":\"eegid-Molecules\",\"target\":\"eegid-Activities\",\"linkType\":\"measured\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Molecules-eegid-Activities-measured-0\",\"data\":{\"relation\":\"chembl-activities//molregno/chembl-molecules//molregno\",\"dashboards\":[\"Molecules\",\"Activities\"]}},{\"source\":\"eegid-Activities\",\"target\":\"eegid-Assays\",\"linkType\":\"measured\",\"undirected\":true,\"size\":1,\"id\":\"eegid-Activities-eegid-Assays-measured-0\",\"data\":{\"relation\":\"chembl-activities//activity_id/chembl-assays//assay_id\",\"dashboards\":[\"Activities\",\"Assays\"]}}]}}","defaultIndex":"chembl-activities"}}
{"_index":".kibi","_type":"script","_id":"Expand-by-relation","_score":1,"_source":{"version":2,"type":"contextual","description":"Expands the selected nodes using the selected relations","scriptSource":"/*\n * Expand by relation\n *\n *\n * f - refers to kibi helper with following functions available\n *   defaultExpansion(graphid, idList, relations)\n *   executeGremlinQuery(graphId, queryTemplate, idList)\n *   addResultsToGraph(graphId, queriedIds, results)\n *   executeEsSearch(index, type, body, size)\n *   getKibiRelations()\n *   openModal(graphId, title, innerHtml)\n *   handleModalResult(graphId, result)\n *\n * Globals:\n *\n * - kibiTimezone: a string containing the value of the dateFormat:tz setting.\n * - moment: an instance of moment-timezone with the default timezone set to the value of the dateFormat:tz setting.\n *\n * For detailed documentation of the above please contact support team\n *\n * NOTE:\n *   Use ECMAScript 5\n *   The name of the main function must be \"beforeAll\"\n *   The function should always return a promise which resolves\n *   with a modified graph model\n */\nfunction beforeAll(graphId, graphModel, graphSelection) {\n  const newGraphSelection = getNodesSelection(graphSelection, graphModel);\n\n  const queryTemplate = 'g.V(\"$1\").bothE()';\n\n  return f.executeGremlinQuery(graphId, queryTemplate, newGraphSelection).then(function (response) {\n    const relations = {};\n    _.each(response, function (edge) {\n      if (!relations[edge.label]) {\n        relations[edge.label] = 0;\n      }\n      relations[edge.label] = relations[edge.label] + 1;\n    });\n\n    let html = '<div>';\n    for (var property in relations) {\n      if (relations.hasOwnProperty(property)) {\n        html = html + '<input type=\"checkbox\" ng-model=\\'relations[\"' + property + '\"]\\'> ' + property + ' ('\n        + relations[property] + ')</input></br>';\n      }\n    }\n\n    html = html + '</div>';\n    f.openModal(graphId ,'Select the relation you want to expand', html);\n\n    return Promise.resolve({\n      model: null,\n      selection: null\n    });\n  });\n}\n\nfunction getNodesSelection(graphSelection, graphModel) {\n  const selection = [];\n  if (!graphSelection || graphSelection.length === 0) {\n    _.each(graphModel.nodes, function (node) {\n        selection.push(node.id);\n    });\n  } else {\n    const selectionSet = new Set(graphSelection);\n    _.each(graphModel.nodes, function (node) {\n      if (selectionSet.has(node.id)) {\n        selection.push(node.id);\n      }\n    });\n  }\n\n  return selection;\n}\n\nfunction onModalOk(scope, graphModel) {\n  let selectedRel = [];\n\n  for (var rel in scope.relations) {\n    if (scope.relations.hasOwnProperty(rel)) {\n      if (scope.relations[rel]) {\n        selectedRel.push(rel);\n      }\n    }\n  }\n\n  return selectedRel;\n}\n\nfunction afterModalClosed(graphId, graphModel, graphSelection, onOkModalResult) {\n  const selection = getNodesSelection(graphSelection, graphModel);\n\n  let queryTemplate = 'g.V(\"$1\").bothE().as(\"e\").bothV().as(\"v\").properties().select(\"e\", \"v\").mapValues().dedup()';\n\n  let relationsSet = new Set(onOkModalResult);\n  return f.executeGremlinQuery(graphId, queryTemplate, selection).then(function (results) {\n    let filteredResults = [];\n    let nodeIdSet = new Set();\n\n    _.each(results, function (item) {\n      if (item.type === 'edge') {\n        if (relationsSet.has(item.label)) {\n          nodeIdSet.add(item.inV);\n          nodeIdSet.add(item.outV);\n          filteredResults.push(item);\n        }\n      }\n    });\n\n    _.each(results, function (item) {\n      if (item.type === 'vertex') {\n        if (nodeIdSet.has(item.id)) {\n          filteredResults.push(item);\n        }\n      }\n    });\n\n    return f.addResultsToGraph(graphId, selection, filteredResults);\n  });\n}","title":"Expand by relation"}}
{"_index":".kibi","_type":"index-pattern","_id":"chembl-molecules","_score":1,"_source":{"title":"chembl-molecules","fields":"[{\"name\":\"_id\",\"esType\":\"_id\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_index\",\"esType\":\"_index\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_score\",\"esType\":\"text\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_source\",\"esType\":\"_source\",\"type\":\"_source\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_type\",\"esType\":\"_type\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"acd_logd\",\"esType\":\"double\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"acd_logp\",\"esType\":\"double\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"acd_most_apka\",\"esType\":\"double\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"acd_most_bpka\",\"esType\":\"double\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"alogp\",\"esType\":\"double\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"aromatic_rings\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"availability_type\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"canonical_smiles\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"chembl_id\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"chirality\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"compound_doc_id\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"compound_name\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"compound_source_description\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"description\",\"esType\":\"text\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"efo_id\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"efo_term\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"full_molformula\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"full_mwt\",\"esType\":\"double\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"hba\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"hba_lipinski\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"hbd\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"hbd_lipinski\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"heavy_atoms\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"helm_notation\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"indication_class\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"inorganic_flag\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"max_phase_for_ind\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"mesh_heading\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"mesh_id\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"molecular_species\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"molecule_type\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"molregno\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"mw_freebase\",\"esType\":\"double\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"mw_monoisotopic\",\"esType\":\"double\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"num_alerts\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"num_lipinski_ro5_violations\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"num_ro5_violations\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"polymer_flag\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"pref_name\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"psa\",\"esType\":\"double\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"qed_weighted\",\"esType\":\"double\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"ro3_pass\",\"esType\":\"text\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"rtb\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"src_short_name\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"structure_type\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"synonyms\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"therapeutic_flag\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"usan_year\",\"esType\":\"date\",\"type\":\"date\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true}]","paths":"{\"acd_logd\":[\"acd_logd\"],\"acd_logp\":[\"acd_logp\"],\"acd_most_apka\":[\"acd_most_apka\"],\"acd_most_bpka\":[\"acd_most_bpka\"],\"alogp\":[\"alogp\"],\"aromatic_rings\":[\"aromatic_rings\"],\"availability_type\":[\"availability_type\"],\"canonical_smiles\":[\"canonical_smiles\"],\"chembl_id\":[\"chembl_id\"],\"chirality\":[\"chirality\"],\"compound_doc_id\":[\"compound_doc_id\"],\"compound_name\":[\"compound_name\"],\"compound_source_description\":[\"compound_source_description\"],\"description\":[\"description\"],\"efo_id\":[\"efo_id\"],\"efo_term\":[\"efo_term\"],\"full_molformula\":[\"full_molformula\"],\"full_mwt\":[\"full_mwt\"],\"hba\":[\"hba\"],\"hba_lipinski\":[\"hba_lipinski\"],\"hbd\":[\"hbd\"],\"hbd_lipinski\":[\"hbd_lipinski\"],\"heavy_atoms\":[\"heavy_atoms\"],\"helm_notation\":[\"helm_notation\"],\"indication_class\":[\"indication_class\"],\"inorganic_flag\":[\"inorganic_flag\"],\"max_phase_for_ind\":[\"max_phase_for_ind\"],\"mesh_heading\":[\"mesh_heading\"],\"mesh_id\":[\"mesh_id\"],\"molecular_species\":[\"molecular_species\"],\"molecule_type\":[\"molecule_type\"],\"molregno\":[\"molregno\"],\"mw_freebase\":[\"mw_freebase\"],\"mw_monoisotopic\":[\"mw_monoisotopic\"],\"num_alerts\":[\"num_alerts\"],\"num_lipinski_ro5_violations\":[\"num_lipinski_ro5_violations\"],\"num_ro5_violations\":[\"num_ro5_violations\"],\"polymer_flag\":[\"polymer_flag\"],\"pref_name\":[\"pref_name\"],\"psa\":[\"psa\"],\"qed_weighted\":[\"qed_weighted\"],\"ro3_pass\":[\"ro3_pass\"],\"rtb\":[\"rtb\"],\"src_short_name\":[\"src_short_name\"],\"structure_type\":[\"structure_type\"],\"synonyms\":[\"synonyms\"],\"therapeutic_flag\":[\"therapeutic_flag\"],\"usan_year\":[\"usan_year\"]}","fieldFormatMap":"{\"chembl_id\":{\"id\":\"url\",\"params\":{\"type\":\"img\",\"urlTemplate\":\"https://www.ebi.ac.uk/chembl/compound/displayimage/{{value}}\",\"labelTemplate\":\"{{value}}\"}}}"}}
{"_index":".kibi","_type":"visualization","_id":"Confidence-score-distribution","_score":1,"_source":{"title":"Confidence score distribution","visState":"{\"title\":\"Confidence score distribution\",\"type\":\"kibi_multi_chart_vis\",\"params\":{\"grid\":{\"categoryLines\":false,\"style\":{\"color\":\"#eee\"}},\"categoryAxes\":[{\"id\":\"CategoryAxis-1\",\"type\":\"category\",\"position\":\"bottom\",\"show\":true,\"style\":{},\"scale\":{\"type\":\"linear\"},\"labels\":{\"show\":true,\"truncate\":100},\"title\":{\"text\":\"confidence_score\"}}],\"valueAxes\":[{\"id\":\"ValueAxis-1\",\"name\":\"LeftAxis-1\",\"type\":\"value\",\"position\":\"left\",\"show\":true,\"style\":{},\"scale\":{\"type\":\"linear\",\"mode\":\"normal\",\"setYExtents\":false,\"defaultYExtents\":false},\"labels\":{\"show\":true,\"rotate\":0,\"filter\":false,\"truncate\":100},\"title\":{\"text\":\"Count\"}}],\"seriesParams\":[{\"show\":\"true\",\"type\":\"histogram\",\"mode\":\"stacked\",\"data\":{\"label\":\"Count\",\"id\":\"1\"},\"valueAxis\":\"ValueAxis-1\",\"drawLinesBetweenPoints\":true,\"showCircles\":true,\"interpolate\":\"linear\"}],\"addTooltip\":true,\"addLegend\":true,\"legendPosition\":\"right\",\"times\":[],\"addTimeMarker\":false,\"type\":\"histogram\"},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"enabled\":true,\"type\":\"histogram\",\"schema\":\"segment\",\"params\":{\"field\":\"confidence_score\",\"interval\":1,\"min_doc_count\":true,\"extended_bounds\":{}}}],\"listeners\":{},\"version\":1,\"kibiSettings\":{\"activeSetting\":\"default\",\"settings\":[{\"name\":\"default\",\"activeMode\":\"histogram\",\"modes\":{\"line\":{\"type\":\"line\",\"params\":{}},\"histogram\":{\"type\":\"histogram\",\"params\":{\"grid\":{\"categoryLines\":false,\"style\":{\"color\":\"#eee\"}},\"categoryAxes\":[{\"id\":\"CategoryAxis-1\",\"type\":\"category\",\"position\":\"bottom\",\"show\":true,\"style\":{},\"scale\":{\"type\":\"linear\"},\"labels\":{\"show\":true,\"truncate\":100},\"title\":{\"text\":\"confidence_score\"}}],\"valueAxes\":[{\"id\":\"ValueAxis-1\",\"name\":\"LeftAxis-1\",\"type\":\"value\",\"position\":\"left\",\"show\":true,\"style\":{},\"scale\":{\"type\":\"linear\",\"mode\":\"normal\",\"setYExtents\":false,\"defaultYExtents\":false},\"labels\":{\"show\":true,\"rotate\":0,\"filter\":false,\"truncate\":100},\"title\":{\"text\":\"Count\"}}],\"seriesParams\":[{\"show\":\"true\",\"type\":\"histogram\",\"mode\":\"stacked\",\"data\":{\"label\":\"Count\",\"id\":\"1\"},\"valueAxis\":\"ValueAxis-1\",\"drawLinesBetweenPoints\":true,\"showCircles\":true,\"interpolate\":\"linear\"}],\"addTooltip\":true,\"addLegend\":true,\"legendPosition\":\"right\",\"times\":[],\"addTimeMarker\":false,\"type\":\"histogram\"}}},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"enabled\":true,\"type\":\"histogram\",\"schema\":\"segment\",\"params\":{\"field\":\"confidence_score\",\"interval\":1,\"min_doc_count\":true,\"extended_bounds\":{}}}]}]}}","uiStateJSON":"{\"histogram\":{\"vis\":{\"legendOpen\":false}},\"options\":{\"configSelector\":true,\"typeSelector\":true,\"circleButtons\":true},\"activeSetting\":\"default\",\"activeMode\":\"histogram\",\"settings\":{\"default\":{\"line\":{},\"histogram\":{},\"area\":{},\"table\":{\"vis\":{\"params\":{\"sort\":{\"columnIndex\":null,\"direction\":null}}}},\"filters\":{\"query\":{\"query_string\":{\"analyze_wildcard\":true,\"query\":\"*\"}},\"filters\":[]}}}}","description":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-assays\",\"query\":{\"query_string\":{\"analyze_wildcard\":true,\"query\":\"*\"}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"index-pattern","_id":"chembl-activities","_score":1,"_source":{"title":"chembl-activities","fields":"[{\"name\":\"_id\",\"esType\":\"_id\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_index\",\"esType\":\"_index\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_score\",\"esType\":\"text\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_source\",\"esType\":\"_source\",\"type\":\"_source\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_type\",\"esType\":\"_type\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"activity_comment\",\"esType\":\"text\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"activity_id\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"assay_id\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"data_validity_comment\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"doc_id\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"inactive\",\"esType\":\"boolean\",\"type\":\"boolean\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"molregno\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"standard_flag\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"standard_relation\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"standard_type\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"standard_units\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"standard_value\",\"esType\":\"double\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true}]","paths":"{\"activity_comment\":[\"activity_comment\"],\"activity_id\":[\"activity_id\"],\"assay_id\":[\"assay_id\"],\"data_validity_comment\":[\"data_validity_comment\"],\"doc_id\":[\"doc_id\"],\"inactive\":[\"inactive\"],\"molregno\":[\"molregno\"],\"standard_flag\":[\"standard_flag\"],\"standard_relation\":[\"standard_relation\"],\"standard_type\":[\"standard_type\"],\"standard_units\":[\"standard_units\"],\"standard_value\":[\"standard_value\"]}"}}
{"_index":".kibi","_type":"ontology-model","_id":"kibi","_score":1,"_source":{"version":4,"model":"<rdf:RDF\n    xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n    xmlns:kibi=\"http://siren.io/model#\"\n    xmlns:owl=\"http://www.w3.org/2002/07/owl#\"\n    xmlns:rdfs=\"http://www.w3.org/2000/01/rdf-schema#\"\n    xmlns:xsd=\"http://www.w3.org/2001/XMLSchema#\">\n  <owl:Class rdf:about=\"http://siren.io/model#chembl-compounds\">\n    <kibi:id>chembl-compounds</kibi:id>\n    <kibi:type>INDEX_PATTERN</kibi:type>\n    <rdfs:label xml:lang=\"en\">chembl-compounds</rdfs:label>\n  </owl:Class>\n  <owl:Class rdf:about=\"http://siren.io/model#chembl-assays\">\n    <kibi:id>chembl-assays</kibi:id>\n    <kibi:type>INDEX_PATTERN</kibi:type>\n    <rdfs:label xml:lang=\"en\">chembl-assays</rdfs:label>\n  </owl:Class>\n  <owl:Class rdf:about=\"http://siren.io/model#chembl-molecules\">\n    <kibi:id>chembl-molecules</kibi:id>\n    <kibi:type>INDEX_PATTERN</kibi:type>\n    <rdfs:label xml:lang=\"en\">chembl-molecules</rdfs:label>\n  </owl:Class>\n  <owl:Class rdf:about=\"http://siren.io/model#chembl-activities\">\n    <kibi:id>chembl-activities</kibi:id>\n    <kibi:type>INDEX_PATTERN</kibi:type>\n    <rdfs:label xml:lang=\"en\">chembl-activities</rdfs:label>\n  </owl:Class>\n  <owl:Class rdf:about=\"http://siren.io/model#chembl-papers\">\n    <kibi:id>chembl-papers</kibi:id>\n    <kibi:type>INDEX_PATTERN</kibi:type>\n    <rdfs:label xml:lang=\"en\">chembl-papers</rdfs:label>\n  </owl:Class>\n  <owl:Class rdf:about=\"http://siren.io/model#chembl-target\">\n    <kibi:id>chembl-target</kibi:id>\n    <kibi:type>INDEX_PATTERN</kibi:type>\n    <rdfs:label xml:lang=\"en\">chembl-target</rdfs:label>\n  </owl:Class>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#shortDescr\"/>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#id\"/>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#in_field\"/>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#in_field_descr\"/>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#color\"/>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#single_value\"/>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#type\"/>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#icon\"/>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#primary_key\"/>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#longDescr\"/>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#out_field_descr\"/>\n  <owl:AnnotationProperty rdf:about=\"http://siren.io/model#out_field\"/>\n</rdf:RDF>\n"}}
{"_index":".kibi","_type":"visualization","_id":"Assay-description-tag-cloud","_score":1,"_source":{"title":"Assay description tag cloud","visState":"{\"title\":\"Assay description tag cloud\",\"type\":\"tagcloud\",\"params\":{\"scale\":\"linear\",\"orientation\":\"single\",\"minFontSize\":18,\"maxFontSize\":72,\"type\":\"tagcloud\"},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"relationship_desc\",\"size\":10,\"order\":\"desc\",\"orderBy\":\"1\"}}],\"listeners\":{},\"kibiSettings\":{}}","uiStateJSON":"{}","description":"","version":1,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"index\":\"chembl-assays\",\"query\":{\"query_string\":{\"query\":\"*\",\"analyze_wildcard\":true}},\"filter\":[]}"}}}
{"_index":".kibi","_type":"url","_id":"315f0207504bebf8904d88003d8439e6","_score":1,"_source":{"url":"/app/kibana#/dashboard/Articles?_g=()&_k=(g:(Papers:Articles))&_a=(description:%27%27,filters:!(),id:Articles,options:(darkTheme:!f,hideBorders:!f),panels:!((col:1,id:Journal-over-Year,panelIndex:1,row:1,size_x:8,size_y:4,type:visualization),(col:9,id:Abstract-word-cloud,panelIndex:3,row:1,size_x:3,size_y:2,type:visualization),(col:1,id:papers-list,panelIndex:2,row:5,size_x:8,size_y:8,type:visualization),(col:9,id:Title-word-cloud,panelIndex:4,row:3,size_x:4,size_y:3,type:visualization)),query:(query_string:(analyze_wildcard:!t,query:%27*%27)),timeRestore:!f,title:Articles,uiState:(),viewMode:edit)","accessCount":0,"createDate":"2018-01-15T10:49:51.832Z","accessDate":"2018-01-15T10:49:51.832Z","sirenSession":{}}}
{"_index":".kibi","_type":"index-pattern","_id":"chembl-papers","_score":1,"_source":{"title":"chembl-papers","fields":"[{\"name\":\"_id\",\"esType\":\"_id\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_index\",\"esType\":\"_index\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_score\",\"esType\":\"text\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_source\",\"esType\":\"_source\",\"type\":\"_source\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_type\",\"esType\":\"_type\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"abstract\",\"esType\":\"text\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"author_list\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"author_list.raw\",\"esType\":\"text\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"authors\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"chembl_id\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"doc_id\",\"esType\":\"long\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"doc_type\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"doi\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"first_page\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"issue\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"journal\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"last_page\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"pubmed_id\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"title\",\"esType\":\"text\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"volume\",\"esType\":\"keyword\",\"type\":\"string\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"year\",\"esType\":\"date\",\"type\":\"date\",\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true}]","paths":"{\"abstract\":[\"abstract\"],\"author_list\":[\"author_list\"],\"authors\":[\"authors\"],\"chembl_id\":[\"chembl_id\"],\"doc_id\":[\"doc_id\"],\"doc_type\":[\"doc_type\"],\"doi\":[\"doi\"],\"first_page\":[\"first_page\"],\"issue\":[\"issue\"],\"journal\":[\"journal\"],\"last_page\":[\"last_page\"],\"pubmed_id\":[\"pubmed_id\"],\"title\":[\"title\"],\"volume\":[\"volume\"],\"year\":[\"year\"]}","fieldFormatMap":"{\"doi\":{\"id\":\"url\",\"params\":{\"urlTemplate\":\"http://dx.doi.org/{{value}}\",\"labelTemplate\":\"{{value}}\"}},\"pubmed_id\":{\"id\":\"url\",\"params\":{\"urlTemplate\":\"https://www.ncbi.nlm.nih.gov/pubmed/{{value}}\",\"labelTemplate\":\"{{value}}\"}}}"}}
